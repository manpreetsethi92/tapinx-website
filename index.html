<!doctypehtml><html lang="en"><meta charset="UTF-8"><meta name="viewport"content="width=device-width,initial-scale=1,viewport-fit=cover"><title>TapinX - Text to Get Connected in Sec</title><link rel="preconnect"href="https://fonts.googleapis.com"><link rel="preconnect"href="https://fonts.gstatic.com"crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap"rel="stylesheet"><style>:root{--color-primary:#6EA8FF;--color-primary-hover:#5A94F5;--color-primary-gradient:linear-gradient(135deg, #6EA8FF 0%, #9B8CFF 50%, #FF9EB5 100%);--color-text-primary:#0F172A;--color-text-secondary:#475569;--color-text-muted:#94A3B8;--color-background:var(--color-background)FFF;--color-background-secondary:#F8FAFF;--color-border-color:var(--color-border)"><p style="color:#536471;font-size:14px;margin-bottom:12px">Know someone who'd benefit from TapinX?</p><button onclick="inviteFriend()"style="background:#0f1419;color:#fff;border:none;padding:12px 24px;border-radius:999px;font-size:15px;font-weight:600;cursor:pointer">Invite a Friend</button></div></div></div><div id="newReferralsPage"style="display:none"><header class="new-main-header"><h1 class="new-main-title">Referrals</h1></header><div class="new-referral-centered"><div class="new-referral-inner"><div class="new-referral-intro"><div class="new-referral-intro-title">Know someone who'd benefit?</div><div class="new-referral-intro-text">We'll introduce them if it aligns with their intent.</div></div><div class="new-referral-form"><input class="new-referral-input"id="newReferralName"placeholder="Their name"> <input class="new-referral-input"id="newReferralContact"placeholder="Phone number"> <textarea class="new-referral-input new-referral-textarea"id="newReferralContext"placeholder="What are they looking for? How can Taj help them?"></textarea> <button class="new-referral-submit"onclick="submitNewReferral()"><svg width="18"height="18"viewBox="0 0 24 24"fill="none"stroke="currentColor"stroke-width="2"><path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"/><polyline points="16 6 12 2 8 6"/><line x1="12"y1="2"x2="12"y2="15"/></svg> Send Referral</button><p class="new-referral-note">Taj will reach out to them directly via text.</div></div></div></div><div id="newRequestsPage"style="display:none"><header class="new-main-header"><h1 class="new-main-title">My Requests</h1><p class="new-main-subtitle">Track all the introductions you've asked Taj to make.</header><div class="new-tabs"><button class="new-tab active"onclick='filterRequests("all",this)'>All</button> <button class="new-tab"onclick='filterRequests("active",this)'>Active</button> <button class="new-tab"onclick='filterRequests("matched",this)'>Matched</button> <button class="new-tab"onclick='filterRequests("completed",this)'>Completed</button></div><div id="newRequestsList"></div><div class="new-empty-state"id="newRequestsEmpty"><svg class="new-empty-icon"viewBox="0 0 24 24"fill="none"stroke="currentColor"stroke-width="1.5"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16"y1="13"x2="8"y2="13"/><line x1="16"y1="17"x2="8"y2="17"/></svg><h3 class="new-empty-title">You haven't made any requests yet</h3><p class="new-empty-text">Tell Taj who you're looking to meet and your requests will appear here.</p><a href="https://t.me/TapinXBot"target="_blank"class="new-empty-cta">Message Taj</a></div></div><div id="newSettingsPage"class="top-canvas"style="display:none"><header class="new-main-header"><h1 class="new-main-title">Settings</h1></header><div class="new-settings-section"><div class="new-settings-section-title">Matching Preferences</div><div class="new-settings-item"><div><div class="new-settings-item-title">Primary Intent</div><div class="new-settings-item-desc">What type of connections are you looking for?</div></div><div class="intent-segmented"><button class="intent-seg-btn active"data-intent="professional"onclick='setIntent("professional",this)'>Professional</button> <button class="intent-seg-btn"data-intent="community"onclick='setIntent("community",this)'>Community</button></div></div><div class="new-settings-item"><div><div class="new-settings-item-title">Pause matching</div><div class="new-settings-item-desc">Temporarily stop receiving opportunities</div></div><div class="new-settings-toggle"onclick='this.classList.toggle("active")'></div></div></div><div class="new-settings-section"><div class="new-settings-section-title">Privacy</div><div class="new-settings-item"><div><div class="new-settings-item-title">Profile visibility</div><div class="new-settings-item-desc">Allow others to discover your profile</div></div><div class="new-settings-toggle active"onclick='this.classList.toggle("active")'></div></div><div class="new-settings-item"onclick="showBlockedContacts()"><div><div class="new-settings-item-title">Blocked contacts</div><div class="new-settings-item-desc">Manage people you've blocked</div></div><svg class="new-settings-arrow"width="20"height="20"viewBox="0 0 24 24"fill="none"stroke="currentColor"stroke-width="2"><path d="m9 18 6-6-6-6"/></svg></div></div><div class="new-settings-section"><div class="new-settings-section-title">Notifications</div><div class="new-settings-item"><div><div class="new-settings-item-title">New opportunities</div><div class="new-settings-item-desc">Get notified when Taj finds a match</div></div><div class="new-settings-toggle active"onclick='this.classList.toggle("active")'></div></div><div class="new-settings-item"><div><div class="new-settings-item-title">Connection updates</div><div class="new-settings-item-desc">When someone accepts your introduction</div></div><div class="new-settings-toggle active"onclick='this.classList.toggle("active")'></div></div></div><div class="new-settings-section"><div class="new-settings-section-title">Account</div><div class="new-settings-item"onclick="openNewEditProfile()"><div><div class="new-settings-item-title">Edit profile</div><div class="new-settings-item-desc">Update your information and links</div></div><svg class="new-settings-arrow"width="20"height="20"viewBox="0 0 24 24"fill="none"stroke="currentColor"stroke-width="2"><path d="m9 18 6-6-6-6"/></svg></div><div class="new-settings-item"onclick="logout()"><div><div class="new-settings-item-title"style="color:#f4212e">Log out</div></div></div><div class="new-settings-item"onclick="confirmDeleteAccount()"><div><div class="new-settings-item-title"style="color:#536471">Delete account</div><div class="new-settings-item-desc">Permanently remove your data</div></div></div></div></div></main><aside class="new-right-column"><div class="new-right-card"><div class="new-right-card-header"><div class="new-right-card-title">Tasks</div><button class="new-task-add-btn"onclick="openAddTaskModal()"title="Add task"><svg width="16"height="16"viewBox="0 0 24 24"fill="none"stroke="currentColor"stroke-width="2.5"><line x1="12"y1="5"x2="12"y2="19"/><line x1="5"y1="12"x2="19"y2="12"/></svg></button></div><div class="new-tasks-list"id="tasksList"></div><div class="new-tasks-empty"id="tasksEmpty"style="display:none"><p>You're all caught up!</div></div></aside></div><div class="task-modal-overlay"id="addTaskModal"onclick="closeAddTaskModal(event)"><div class="task-modal"onclick="event.stopPropagation()"><div class="task-modal-header"><h3>Add Task</h3><button class="task-modal-close"onclick="closeAddTaskModal()"><svg width="20"height="20"viewBox="0 0 24 24"fill="none"stroke="currentColor"stroke-width="2"><line x1="18"y1="6"x2="6"y2="18"/><line x1="6"y1="6"x2="18"y2="18"/></svg></button></div><div class="task-modal-body"><input class="task-modal-input"id="taskModalInput"placeholder="What do you need to do?"onkeypress="handleTaskModalKeypress(event)"> <textarea class="task-modal-textarea"id="taskModalNote"placeholder="Add a note (optional)"></textarea></div><div class="task-modal-footer"><button class="task-modal-cancel"onclick="closeAddTaskModal()">Cancel</button> <button class="task-modal-submit"onclick="addCustomTaskFromModal()">Add Task</button></div></div></div><div class="connection-modal-overlay"id="connectionModal"onclick="closeConnectionModal(event)"><div class="connection-modal"onclick="event.stopPropagation()"><div class="connection-modal-header"><div class="connection-modal-avatar"id="connModalAvatar">M</div><div class="connection-modal-info"><h3 class="connection-modal-name"id="connModalName">Name</h3><span class="connection-modal-status"id="connModalStatus">Connected</span></div><button class="connection-modal-close"onclick="closeConnectionModal()"><svg width="20"height="20"viewBox="0 0 24 24"fill="none"stroke="currentColor"stroke-width="2"><line x1="18"y1="6"x2="6"y2="18"/><line x1="6"y1="6"x2="18"y2="18"/></svg></button></div><div class="connection-modal-body"><div class="connection-modal-section"><div class="connection-modal-label">Connection Context</div><div class="connection-modal-value"id="connModalContextText"></div></div><div class="connection-modal-section"id="connModalBio"style="display:none"><div class="connection-modal-label">About</div><div class="connection-modal-value"id="connModalBioText"></div></div><div class="connection-modal-section"id="connModalSkills"style="display:none"><div class="connection-modal-label">Skills</div><div class="connection-modal-skills"id="connModalSkillsList"></div></div><div class="connection-modal-message"id="connModalMessage"></div></div><div class="connection-modal-footer"id="connModalFooter"></div></div></div><div class="request-modal-overlay"id="requestModal"onclick="closeRequestModal(event)"><div class="request-modal"onclick="event.stopPropagation()"><button class="request-modal-close"onclick="closeRequestModal()"><svg width="20"height="20"viewBox="0 0 24 24"fill="none"stroke="currentColor"stroke-width="2"><line x1="18"y1="6"x2="6"y2="18"/><line x1="6"y1="6"x2="18"y2="18"/></svg></button><div class="request-modal-body"><h2 class="request-modal-title"id="requestModalTitle">Graphic Designer</h2><span class="request-modal-status"id="requestModalStatus">In progress</span><div class="request-modal-section"><div class="request-modal-label">CATEGORY</div><div class="request-modal-value"id="requestModalCategory">Professional</div></div><div class="request-modal-section"><div class="request-modal-label">SKILLS NEEDED</div><div class="request-modal-skills"id="requestModalSkills"></div></div><div class="request-modal-section"><div class="request-modal-label">REQUESTED</div><div class="request-modal-value"id="requestModalDate">Dec 20, 2025</div></div><div class="request-modal-section"id="requestModalMatchSection"style="display:none"><div class="request-modal-label">MATCH FOUND</div><div class="request-modal-value"id="requestModalMatch"></div></div></div><div class="request-modal-footer"><button class="request-modal-btn primary"onclick="followUpRequestFromModal()">Follow up with Taj</button> <button class="request-modal-btn secondary"onclick="closeRequestModal()">Close</button></div></div></div></div><div class="opp-detail-overlay"id="oppDetailModal"onclick="closeOppDetailModal(event)"><div class="opp-detail-modal"onclick="event.stopPropagation()"><button class="opp-modal-close"onclick="closeOppDetailModal()"><svg width="20"height="20"viewBox="0 0 24 24"fill="none"stroke="currentColor"stroke-width="2"><line x1="18"y1="6"x2="6"y2="18"/><line x1="6"y1="6"x2="18"y2="18"/></svg></button><div class="opp-detail-body"><div class="opp-detail-header"><div class="opp-detail-avatar"id="oppDetailAvatar">S</div><div class="opp-detail-info"><h2 class="opp-detail-name"id="oppDetailName">Sarah Johnson</h2><p class="opp-detail-bio"id="oppDetailBio">Marketing agency owner</div></div><div class="opp-detail-section"><div class="opp-detail-label">LOOKING FOR</div><h3 class="opp-detail-title"id="oppDetailTitle">Video Editor for Social Media</h3></div><div class="opp-detail-section"><div class="opp-detail-label">DESCRIPTION</div><p class="opp-detail-desc"id="oppDetailDesc">Looking for a video editor who can create engaging short-form content for TikTok and Instagram Reels.</div><div class="opp-detail-section"id="oppDetailSkillsSection"><div class="opp-detail-label">SKILLS NEEDED</div><div class="opp-detail-skills"id="oppDetailSkills"></div></div><div class="opp-detail-section"><div class="opp-detail-label">MATCH SCORE</div><div class="opp-detail-score"id="oppDetailScore">88% match</div></div></div><div class="opp-detail-footer"><button class="opp-detail-btn primary"onclick="handleOppInterested()">I'm Interested</button> <button class="opp-detail-btn secondary"onclick="handleOppDecline()">Not for me</button> <button class="opp-detail-btn tertiary"onclick="handleOppRefer()">Refer a Friend</button></div></div></div><div class="share-modal-overlay"id="shareModal"onclick="closeShareModal(event)"><div class="share-modal"onclick="event.stopPropagation()"><button class="share-modal-close"onclick="closeShareModal()"><svg width="20"height="20"viewBox="0 0 24 24"fill="none"stroke="currentColor"stroke-width="2"><line x1="18"y1="6"x2="6"y2="18"/><line x1="6"y1="6"x2="18"y2="18"/></svg></button><div class="share-modal-body"><h2 class="share-modal-title">Share this opportunity</h2><div class="share-modal-preview"><div class="share-preview-avatar"id="sharePreviewAvatar">S</div><div class="share-preview-info"><div class="share-preview-name"id="sharePreviewName">Sarah Johnson</div><div class="share-preview-title"id="sharePreviewTitle">Video Editor for Social Media</div></div></div><div class="share-options"><button class="share-option"onclick="shareViaCopyLink()"><div class="share-option-icon"><svg width="24"height="24"viewBox="0 0 24 24"fill="none"stroke="currentColor"stroke-width="2"><rect x="9"y="9"width="13"height="13"rx="2"ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></div><span class="share-option-label">Copy Link</span></button> <button class="share-option"onclick="shareViaMessages()"><div class="share-option-icon"><svg width="24"height="24"viewBox="0 0 24 24"fill="none"stroke="currentColor"stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg></div><span class="share-option-label">Messages</span></button> <button class="share-option"onclick="shareViaTelegram()"><div class="share-option-icon"><svg width="24"height="24"viewBox="0 0 24 24"fill="currentColor"><path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/></svg></div><span class="share-option-label">Telegram</span></button></div></div></div></div><div class="decline-confirm-overlay"id="declineConfirmModal"onclick="closeDeclineConfirmModal(event)"><div class="decline-confirm-modal"onclick="event.stopPropagation()"><button class="opp-modal-close"onclick="closeDeclineConfirmModal()"><svg width="20"height="20"viewBox="0 0 24 24"fill="none"stroke="currentColor"stroke-width="2"><line x1="18"y1="6"x2="6"y2="18"/><line x1="6"y1="6"x2="18"y2="18"/></svg></button><div class="decline-confirm-body"><div class="decline-confirm-icon">ü§î</div><h2 class="decline-confirm-title">Pass on this opportunity?</h2><p class="decline-confirm-subtitle">This will move "<span id="declineConfirmOppTitle">Video Editor</span>" to your Archive.</div><div class="decline-confirm-footer"><button class="opp-detail-btn secondary"onclick="confirmDecline()">Yes, pass</button> <button class="opp-detail-btn primary"onclick="closeDeclineConfirmModal()">Keep it</button></div></div></div><div class="page workspace-page"id="connectionsPage"><header class="header workspace-header"><span class="logo"onclick="handleLogoClick()">T</span><div class="profile-btn"onclick="toggleConnectionsDropdown(event)"><div class="avatar"><span id="connAvatarInitial">T</span> <img id="connAvatarImg"style="display:none"></div><span class="profile-name"id="connHeaderName">User</span> <span class="dropdown-arrow">‚ñº</span><div class="dropdown"id="connDropdown"><div class="dropdown-item"onclick="openEditProfileModal()">Edit Profile</div><div class="dropdown-item"onclick='showPage("connections")'>Connections</div><div class="dropdown-item"onclick='showPage("attention")'>Attention Required</div><a href="https://t.me/TapinXBot"target="_blank"class="dropdown-item">Speak to Taj</a><div class="dropdown-divider"></div><div class="dropdown-item"onclick="logout()">Logout</div></div></div></header><div class="workspace-layout"><aside class="context-rail"><div class="rail-profile"><div class="rail-avatar"><span id="connRailInitial">T</span> <img id="connRailImg"style="display:none;width:100%;height:100%;border-radius:50%;object-fit:cover"></div><span class="rail-name"id="connRailName">User</span></div><nav class="rail-nav"><div class="rail-link active"onclick='showPage("connections")'>My Connections <span class="rail-link-count"id="railConnCount">0</span></div><div class="rail-link"id="railAttnLink"onclick='showPage("attention")'>Attention Required <span class="rail-link-count"id="railAttnCount">0</span></div></nav></aside><main class="workspace-main"><h1 class="workspace-title">My Connections</h1><div class="workspace-controls"><div class="workspace-search"><div class="workspace-search-input"id="connSearchBar"><svg width="14"height="14"viewBox="0 0 24 24"fill="none"stroke="currentColor"stroke-width="2"><circle cx="11"cy="11"r="8"></circle><path d="m21 21-4.35-4.35"></path></svg> <input placeholder="Search connections..."id="connSearchInput"oninput="filterConnections()"></div></div></div><div class="workspace-tabs"><button class="workspace-tab active"onclick='setConnStatus(this,"all")'>All<span class="workspace-tab-count"id="connAllCount">0</span></button> <button class="workspace-tab"onclick='setConnStatus(this,"pending")'>Pending<span class="workspace-tab-count"id="connPendingCount">0</span></button> <button class="workspace-tab"onclick='setConnStatus(this,"connected")'>Connected<span class="workspace-tab-count"id="connConnectedCount">0</span></button></div><div class="workspace-list"id="connList"></div><div class="workspace-empty"id="emptyConnections"><div class="workspace-empty-title">No introductions yet</div><p class="workspace-empty-text">When Taj connects you with someone, they'll appear here.</p><a href="https://t.me/TapinXBot"target="_blank"class="workspace-empty-btn">Message Taj</a><p class="workspace-empty-note">You'll be notified when there's an update.<div class="workspace-skeleton"><div class="skeleton-avatar"></div><div class="skeleton-content"><div class="skeleton-line short"></div><div class="skeleton-line medium"></div></div><div class="skeleton-btn"></div></div></div><div class="workspace-toast"id="connToast"></div></main></div></div><div class="page"id="attentionPage"><header class="header attention-header"><span class="logo"onclick="handleLogoClick()">T</span><div class="profile-btn"onclick="toggleAttentionDropdown(event)"><div class="avatar"><span id="attnAvatarInitial">T</span> <img id="attnAvatarImg"style="display:none"></div><span class="profile-name"id="attnHeaderName">User</span> <span class="dropdown-arrow">‚ñº</span><div class="dropdown"id="attnDropdown"><div class="dropdown-item"onclick="openEditProfileModal()">Edit Profile</div><div class="dropdown-item"onclick='showPage("connections")'>Connections</div><div class="dropdown-item"onclick='showPage("attention")'>Attention Required</div><a href="https://t.me/TapinXBot"target="_blank"class="dropdown-item">Speak to Taj</a><div class="dropdown-divider"></div><div class="dropdown-item"onclick="logout()">Logout</div></div></div></header><div class="workspace-layout"><aside class="context-rail"><div class="rail-profile"><div class="rail-avatar"><span id="attnRailInitial">T</span> <img id="attnRailImg"style="display:none;width:100%;height:100%;border-radius:50%;object-fit:cover"></div><span class="rail-name"id="attnRailName">User</span></div><nav class="rail-nav"><div class="rail-link"onclick='showPage("connections")'>My Connections <span class="rail-link-count"id="attnRailConnCount">0</span></div><div class="rail-link active"id="attnRailAttnLink"onclick='showPage("attention")'>Attention Required <span class="rail-link-count"id="attnRailAttnCount">0</span></div></nav></aside><main class="workspace-main"><h1 class="workspace-title">Attention Required</h1><div class="workspace-tabs"><button class="workspace-tab active"id="attnTabNeeds"onclick='setAttnStatusNew(this,"active")'>Needs Response<span class="workspace-tab-count"id="attnNeedsCount">0</span></button> <button class="workspace-tab"onclick='setAttnStatusNew(this,"interested")'>Interested<span class="workspace-tab-count"id="attnInterestedCount">0</span></button> <button class="workspace-tab"onclick='setAttnStatusNew(this,"passed")'>Passed<span class="workspace-tab-count"id="attnPassedCount">0</span></button></div><div class="workspace-list"id="attnList"></div><div class="workspace-empty"id="emptyAttnActive"><div class="workspace-empty-title">You're all caught up</div><p class="workspace-empty-text">There are no introductions waiting right now.<p class="workspace-empty-note">Taj will notify you when there's something to review.</div><div class="workspace-empty"id="emptyAttnInterested"style="display:none"><div class="workspace-empty-title">No interested introductions</div><p class="workspace-empty-text">When you express interest, they'll appear here.</div><div class="workspace-empty"id="emptyAttnPassed"style="display:none"><div class="workspace-empty-title">No passed introductions</div><p class="workspace-empty-text">Introductions you pass on will appear here.</div><div class="workspace-toast"id="attnToast"></div></main></div><div class="attn-status-tabs"><button class="attn-status-tab active"onclick='setAttnStatus(this,"active")'>Needs Response<span class="attn-status-count"id="activeCount">6</span></button> <button class="attn-status-tab"onclick='setAttnStatus(this,"interested")'>Interested<span class="attn-status-count"id="interestedCount">0</span></button> <button class="attn-status-tab"onclick='setAttnStatus(this,"passed")'>Passed<span class="attn-status-count"id="passedCount">0</span></button></div><div class="attn-filter-tabs"><button class="attn-tab active"onclick='setAttnFilter(this,"all")'>All <span class="attn-tab-count">6</span></button> <button class="attn-tab"onclick='setAttnFilter(this,"jobs")'>Jobs <span class="attn-tab-count">2</span></button> <button class="attn-tab"onclick='setAttnFilter(this,"collabs")'>Collabs <span class="attn-tab-count">2</span></button> <button class="attn-tab"onclick='setAttnFilter(this,"speaking")'>Speaking <span class="attn-tab-count">1</span></button> <button class="attn-tab"onclick='setAttnFilter(this,"advisory")'>Advisory <span class="attn-tab-count">1</span></button></div><div class="attn-proposals"id="attnProposals"><div class="proposal-card"data-type="jobs"data-status="active"data-id="1"><div class="proposal-badge job">Job Opportunity</div><div class="proposal-header"><div class="proposal-avatar"style="background:linear-gradient(135deg,#667eea 0,#764ba2 100%)">T</div><div class="proposal-meta"><div class="proposal-from">From <strong>Taj</strong> ‚Ä¢ 2 hours ago</div></div></div><h3 class="proposal-title">Head of Growth at TechFlow</h3><p class="proposal-company">TechFlow ‚Ä¢ Series A ‚Ä¢ B2B SaaS<p class="proposal-desc">Marcus is looking for a Head of Growth to lead their GTM strategy. Equity + competitive salary. Remote-friendly.<div class="proposal-details"><span class="proposal-detail">Remote</span> <span class="proposal-detail">$150-180k + equity</span> <span class="proposal-detail">Full-time</span></div><div class="proposal-actions"><button class="proposal-btn primary"onclick="markInterested(this)">I'm Interested</button> <button class="proposal-btn secondary"onclick="markPassed(this)">Not for me</button> <button class="proposal-btn tertiary"onclick='askTajMore(this,"Head of Growth at TechFlow")'>Ask Taj more</button></div></div><div class="proposal-card"data-type="collabs"data-status="active"data-id="2"><div class="proposal-badge collab">Collaboration</div><div class="proposal-header"><div class="proposal-avatar"style="background:linear-gradient(135deg,#f093fb 0,#f5576c 100%)">T</div><div class="proposal-meta"><div class="proposal-from">From <strong>Taj</strong> ‚Ä¢ 5 hours ago</div></div></div><h3 class="proposal-title">Co-write an EP with Kunaal Sharma</h3><p class="proposal-company">Music Collaboration ‚Ä¢ R&B/Soul<p class="proposal-desc">Kunaal is working on a 5-track EP and needs a female vocalist for 2 songs. He loved your SoundCloud demos!<div class="proposal-details"><span class="proposal-detail">2 tracks</span> <span class="proposal-detail">Revenue split</span> <span class="proposal-detail">Remote/Studio</span></div><div class="proposal-actions"><button class="proposal-btn primary"onclick="markInterested(this)">I'm Interested</button> <button class="proposal-btn secondary"onclick="markPassed(this)">Not for me</button> <button class="proposal-btn tertiary"onclick='askTajMore(this,"Co-write an EP with Kunaal Sharma")'>Ask Taj more</button></div></div><div class="proposal-card"data-type="speaking"data-status="active"data-id="3"><div class="proposal-badge speaking">Speaking</div><div class="proposal-header"><div class="proposal-avatar"style="background:linear-gradient(135deg,#11998e 0,#38ef7d 100%)">T</div><div class="proposal-meta"><div class="proposal-from">From <strong>Taj</strong> ‚Ä¢ 1 day ago</div></div></div><h3 class="proposal-title">Guest on "Future of Work" Podcast</h3><p class="proposal-company">50k+ listeners ‚Ä¢ Tech/Business<p class="proposal-desc">The host wants you to discuss AI in healthcare and your startup journey. 45-minute episode, recorded remotely.<div class="proposal-details"><span class="proposal-detail">Next Thursday</span> <span class="proposal-detail">45 mins</span> <span class="proposal-detail">Remote</span></div><div class="proposal-actions"><button class="proposal-btn primary"onclick="markInterested(this)">I'm Interested</button> <button class="proposal-btn secondary"onclick="markPassed(this)">Not for me</button> <button class="proposal-btn tertiary"onclick='askTajMore(this,"Guest on Future of Work Podcast")'>Ask Taj more</button></div></div><div class="proposal-card"data-type="advisory"data-status="active"data-id="4"><div class="proposal-badge advisory">Advisory</div><div class="proposal-header"><div class="proposal-avatar"style="background:linear-gradient(135deg,#fa709a 0,#fee140 100%)">T</div><div class="proposal-meta"><div class="proposal-from">From <strong>Taj</strong> ‚Ä¢ 2 days ago</div></div></div><h3 class="proposal-title">Technical Advisor for FinanceAI</h3><p class="proposal-company">FinanceAI ‚Ä¢ Pre-seed ‚Ä¢ Fintech<p class="proposal-desc">Early-stage fintech startup needs a technical advisor. 2-3 hours/month, equity compensation.<div class="proposal-details"><span class="proposal-detail">2-3 hrs/month</span> <span class="proposal-detail">0.25% equity</span> <span class="proposal-detail">Remote</span></div><div class="proposal-actions"><button class="proposal-btn primary"onclick="markInterested(this)">I'm Interested</button> <button class="proposal-btn secondary"onclick="markPassed(this)">Not for me</button> <button class="proposal-btn tertiary"onclick='askTajMore(this,"Technical Advisor for FinanceAI")'>Ask Taj more</button></div></div><div class="proposal-card"data-type="jobs"data-status="active"data-id="5"><div class="proposal-badge job">Job Opportunity</div><div class="proposal-header"><div class="proposal-avatar"style="background:linear-gradient(135deg,#4facfe 0,#00f2fe 100%)">T</div><div class="proposal-meta"><div class="proposal-from">From <strong>Taj</strong> ‚Ä¢ 3 days ago</div></div></div><h3 class="proposal-title">Founding Designer at Stealth Startup</h3><p class="proposal-company">Stealth ‚Ä¢ Seed ‚Ä¢ Consumer App<p class="proposal-desc">Ex-Google founders building a consumer social app. Looking for founding designer. Significant equity.<div class="proposal-details"><span class="proposal-detail">SF or Remote</span> <span class="proposal-detail">$130-160k + 1-2%</span> <span class="proposal-detail">Full-time</span></div><div class="proposal-actions"><button class="proposal-btn primary"onclick="markInterested(this)">I'm Interested</button> <button class="proposal-btn secondary"onclick="markPassed(this)">Not for me</button> <button class="proposal-btn tertiary"onclick='askTajMore(this,"Founding Designer at Stealth Startup")'>Ask Taj more</button></div></div><div class="proposal-card"data-type="collabs"data-status="active"data-id="6"><div class="proposal-badge collab">Collaboration</div><div class="proposal-header"><div class="proposal-avatar"style="background:linear-gradient(135deg,#a8edea 0,#fed6e3 100%)">T</div><div class="proposal-meta"><div class="proposal-from">From <strong>Taj</strong> ‚Ä¢ 4 days ago</div></div></div><h3 class="proposal-title">Co-found AI Sales Tool</h3><p class="proposal-company">Looking for Technical Co-founder<p class="proposal-desc">Sarah has domain expertise in sales and $50k to bootstrap. Looking for a technical co-founder.<div class="proposal-details"><span class="proposal-detail">50/50 equity</span> <span class="proposal-detail">Ready to start</span> <span class="proposal-detail">Remote-first</span></div><div class="proposal-actions"><button class="proposal-btn primary"onclick="markInterested(this)">I'm Interested</button> <button class="proposal-btn secondary"onclick="markPassed(this)">Not for me</button> <button class="proposal-btn tertiary"onclick='askTajMore(this,"Co-found AI Sales Tool")'>Ask Taj more</button></div></div></div><div class="attn-empty"id="emptyActive"style="display:none"><div class="attn-empty-title">All caught up!</div><p class="attn-empty-text">No new opportunities right now. Check back soon or tell Taj what you're looking for.</p><a href="https://t.me/TapinXBot"target="_blank"class="attn-empty-btn">Message Taj</a></div><div class="attn-empty"id="emptyInterested"style="display:none"><div class="attn-empty-title">No interested opportunities yet</div><p class="attn-empty-text">When you mark opportunities as interested, they'll appear here.</div><div class="attn-empty"id="emptyPassed"style="display:none"><div class="attn-empty-title">No passed opportunities</div><p class="attn-empty-text">Opportunities you pass on will appear here in case you change your mind.</div><div class="attn-toast"id="attnToast"></div></div><div class="edit-profile-overlay"id="editProfileOverlay"onclick="closeEditProfileModal(event)"><div class="edit-profile-modal"onclick="event.stopPropagation()"><div class="profile-building-overlay"id="profileBuildingOverlay"><div class="profile-building-spinner"></div><div class="profile-building-text">Building your profile...</div><div class="profile-building-subtext">Fetching data from your social links</div></div><div class="edit-modal-header"><h2 class="edit-modal-title">Edit Profile</h2><button class="edit-modal-close"onclick="closeEditProfileModal()">√ó</button></div><div class="edit-modal-body"><div class="edit-photo-section"><div class="edit-photo-container"onclick='document.getElementById("editPhotoInput").click()'><div class="edit-photo-placeholder"id="editPhotoPlaceholder">T</div><img id="editPhotoPreview"style="display:none"></div><input type="file"id="editPhotoInput"accept="image/*"style="display:none"onchange="handleEditPhoto(this)"> <button class="edit-change-photo"onclick='document.getElementById("editPhotoInput").click()'>Change photo</button></div><div class="edit-section"><div class="edit-section-title">Identity</div><div class="edit-form-row"><div class="edit-form-group"><label class="edit-label">Name</label> <input class="edit-input"id="editNameInput"placeholder="Your full name"oninput="checkEditForm()"></div><div class="edit-form-group small"><label class="edit-label">Age</label> <select class="edit-select"id="editAgeInput"onchange="checkEditForm()"><option value="">‚Äî</select></div></div></div><div class="edit-section"><div class="edit-section-title">About</div><div class="edit-form-group"><label class="edit-label">Bio</label> <textarea class="edit-textarea"id="editBioInput"placeholder="Tell people about yourself..."></textarea></div></div><div class="edit-section"><div class="edit-section-title">Top Skills</div><p class="edit-section-desc">Select up to 5 skills you want to be known for<div class="skills-input-wrapper"><input class="skills-search-input"id="skillsSearchInput"placeholder="Search or add a skill..."oninput="filterSkills(this.value)"onfocus="showSkillsDropdown()"autocomplete="off"><div class="skills-dropdown"id="skillsDropdown"></div></div><div class="selected-skills"id="selectedSkills"></div><div class="skills-categories"><button class="skills-category-btn active"onclick='showSkillCategory("all",this)'>All</button> <button class="skills-category-btn"onclick='showSkillCategory("tech",this)'>Tech</button> <button class="skills-category-btn"onclick='showSkillCategory("creative",this)'>Creative</button> <button class="skills-category-btn"onclick='showSkillCategory("business",this)'>Business</button> <button class="skills-category-btn"onclick='showSkillCategory("other",this)'>Other</button></div><div class="skills-grid"id="skillsGrid"></div></div><div class="edit-section"><div class="edit-section-title">Links</div><div class="edit-link-item"><div class="edit-link-label"><span class="edit-link-icon"><svg viewBox="0 0 24 24"width="18"height="18"fill="#E4405F"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg> </span>Instagram <span class="edit-link-required">Required</span></div><div class="edit-input-wrapper"><input type="url"class="edit-input"id="editInstagramInput"placeholder="instagram.com/yourprofile"oninput="validateEditLinks()"> <span class="edit-validation-icon"id="editInstagramStatus"></span></div></div><div class="edit-link-item"><div class="edit-link-label"><span class="edit-link-icon"><svg viewBox="0 0 24 24"width="18"height="18"fill="#0A66C2"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg> </span>LinkedIn</div><div class="edit-input-wrapper"><input type="url"class="edit-input"id="editLinkedinInput"placeholder="linkedin.com/in/yourprofile"oninput="validateEditLinks()"> <span class="edit-validation-icon"id="editLinkedinStatus"></span></div></div><div class="edit-link-item"><div class="edit-link-label"><span class="edit-link-icon"><svg viewBox="0 0 24 24"width="18"height="18"fill="#000000"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg> </span>X (Twitter)</div><div class="edit-input-wrapper"><input type="url"class="edit-input"id="editTwitterInput"placeholder="x.com/yourprofile"oninput="validateEditLinks()"> <span class="edit-validation-icon"id="editTwitterStatus"></span></div></div><div class="edit-link-item"><div class="edit-link-label"><span class="edit-link-icon"><svg viewBox="0 0 24 24"width="18"height="18"fill="#FF5500"><path d="M1.175 12.225c-.051 0-.094.046-.101.1l-.233 2.154c-.009.064.03.124.093.138l.334.071c.063.014.117.068.126.132l.037.235c.008.063.061.117.123.131l1.633.347c.063.014.12-.032.13-.098l.163-1.099c.01-.066.068-.116.134-.115l.09.001c.066.001.12.049.133.114l.088.503c.012.065.072.111.138.104l.195-.023c.066-.008.119-.059.13-.125l.11-.665c.011-.066.069-.115.135-.114l.239.004c.066.001.123.05.133.115l.111.645c.01.065.067.113.132.113l.154-.001c.065-.001.121-.05.131-.115l.094-.603c.01-.065.066-.114.131-.116l.26-.007c.066-.002.122.045.134.11l.143.769c.011.065.071.11.137.103l.183-.018c.066-.006.12-.057.132-.122l.093-.547c.012-.066.07-.113.136-.111l.257.008c.065.002.12.051.13.116l.108.627c.01.065.067.113.132.114l.137.003c.066.001.122-.046.134-.111l.12-.669c.012-.065.068-.112.134-.112h.23c.066 0 .122.048.133.113l.095.559c.011.065.068.112.134.112h.129c.066 0 .123-.047.134-.113l.104-.612c.011-.065.068-.112.134-.112l.313-.001c.066 0 .123.047.134.112l.104.617c.011.066.068.113.134.113h.118c.066 0 .123-.047.134-.113l.108-.642c.011-.065.068-.112.134-.112l.376-.001c.066 0 .123.047.134.112l.109.655c.011.066.068.113.134.113h.107c.066 0 .123-.047.135-.113l.115-.689c.011-.066.068-.113.134-.113l.464-.001c.066 0 .123.047.134.112l.12.725c.011.066.069.113.135.112l.091-.002c.066-.001.123-.049.133-.114l.082-.528c.01-.065.066-.114.132-.116l.574-.014c.066-.002.124.044.136.109l.14.776c.012.065.071.111.137.105l.054-.006c.066-.007.122-.057.133-.123l.075-.47c.011-.065.067-.114.133-.116l.674-.019c.066-.002.124.043.137.108l.165.915c.012.065.072.11.138.103l.025-.003c.066-.008.12-.059.131-.125l.054-.354c.011-.066.067-.115.133-.117l.846-.028c.066-.002.125.042.137.107l.184 1.019c.013.065.073.109.139.101a.133.133 0 0 0 .119-.131l-.01-.333c-.002-.066.045-.124.11-.137l.926-.188c.065-.013.127.027.14.091l.217 1.046c.013.064.075.107.14.097l.017-.003c.065-.01.116-.065.124-.131l.04-.345c.008-.066.059-.12.124-.131l1.147-.269c.065-.015.13.024.145.089l.266 1.136c.014.064.077.104.142.092a.134.134 0 0 0 .109-.14l-.039-.608c-.004-.066.041-.126.105-.14l1.393-.316c.064-.014.129.023.145.087l.328 1.287c.015.064.079.102.144.088a.134.134 0 0 0 .1-.145l-.103-.904c-.007-.066.036-.128.1-.144l1.612-.397c.063-.016.129.02.147.083l.417 1.449c.017.063.081.1.146.083a.134.134 0 0 0 .091-.15l-.199-1.2c-.011-.066.031-.13.094-.148l1.716-.459c.063-.017.128.017.148.079l.479 1.513c.019.063.084.099.148.081a.134.134 0 0 0 .086-.153l-.309-1.468c-.013-.065.027-.131.088-.15l.4-.124c.062-.019.126.013.148.074l.535 1.539c.021.062.087.096.15.077a.134.134 0 0 0 .081-.155l-.491-1.759a.134.134 0 0 1 .084-.16l.11-.037c.063-.021.13.011.152.071l.599 1.597c.022.061.089.094.152.074a.134.134 0 0 0 .077-.159l-.738-2.097a.134.134 0 0 1 .079-.165l.04-.015c.063-.023.131.007.155.067l.668 1.667c.024.06.092.091.155.07a.134.134 0 0 0 .074-.161l-1.024-2.467a.134.134 0 0 1 .073-.17l.016-.006c.063-.025.133.003.158.062l.726 1.713c.025.06.094.088.156.066a.134.134 0 0 0 .07-.165l-1.376-2.847a.134.134 0 0 1 .067-.175c.061-.027.134-.001.161.058l.792 1.743c.027.059.096.085.158.062a.134.134 0 0 0 .067-.168l-1.791-3.27c-.031-.057-.01-.129.046-.161.056-.032.129-.014.163.041l.867 1.766c.029.058.098.083.159.058a.134.134 0 0 0 .063-.171l-2.276-3.739a.134.134 0 0 1 .036-.172c.052-.038.124-.027.163.023l.943 1.775c.031.057.1.08.16.054a.134.134 0 0 0 .06-.175l-2.835-4.27a.134.134 0 0 1 .025-.18c.049-.042.122-.035.164.015l1.028 1.782c.032.056.102.077.161.049a.134.134 0 0 0 .056-.179l-3.479-4.868a.134.134 0 0 1 .013-.186.133.133 0 0 1 .166.005l1.117 1.783c.034.055.104.074.162.044a.134.134 0 0 0 .053-.183l-4.223-5.559a.134.134 0 0 1 .001-.192.133.133 0 0 1 .168-.004l1.21 1.781c.035.054.106.071.163.039a.134.134 0 0 0 .049-.186l-5.09-6.383a.134.134 0 0 1-.011-.199.133.133 0 0 1 .17-.013l1.306 1.776c.037.053.108.068.164.034a.134.134 0 0 0 .046-.19L17.96 2.42a.134.134 0 0 1-.023-.206.133.133 0 0 1 .172-.022l1.406 1.768c.038.052.11.066.165.029a.134.134 0 0 0 .042-.193l-2.09-2.735a.134.134 0 0 1-.01-.155c.031-.048.095-.062.144-.033l.398.238c.05.03.114.016.148-.031l.079-.108a.134.134 0 0 0-.024-.188l-2.365-1.84a.134.134 0 0 0-.178.017l-.257.297a.133.133 0 0 1-.18.018l-.14-.113a.134.134 0 0 0-.182.015l-.333.373a.133.133 0 0 1-.18.015l-.127-.109a.134.134 0 0 0-.184.012l-.412.449a.133.133 0 0 1-.182.012l-.114-.104a.134.134 0 0 0-.186.009l-.495.527a.133.133 0 0 1-.184.009l-.1-.098a.134.134 0 0 0-.187.007l-.583.609a.133.133 0 0 1-.186.006l-.085-.091a.134.134 0 0 0-.189.004l-.676.695a.133.133 0 0 1-.187.003l-.069-.083a.134.134 0 0 0-.191.001l-.776.785a.133.133 0 0 1-.188 0l-.052-.074a.134.134 0 0 0-.192-.002l-.883.882a.133.133 0 0 1-.19-.003l-.034-.063a.134.134 0 0 0-.194-.007l-.999.985a.133.133 0 0 1-.191-.006l-.014-.05a.134.134 0 0 0-.196-.01l-1.125 1.096a.133.133 0 0 1-.192-.01l.008-.035a.134.134 0 0 0-.198-.015l-1.263 1.217a.133.133 0 0 1-.193-.013l.033-.019a.134.134 0 0 0-.201-.02l-1.417 1.351a.133.133 0 0 1-.195-.017c.02.004.04.003.06-.002a.134.134 0 0 0-.203-.025l-1.588 1.498a.133.133 0 0 1-.197-.022c.028.013.058.018.089.015a.134.134 0 0 0-.206-.031l-1.783 1.664a.133.133 0 0 1-.199-.027c.038.024.082.036.126.033a.134.134 0 0 0-.208-.037z"/></svg> </span>SoundCloud</div><div class="edit-input-wrapper"><input type="url"class="edit-input"id="editSoundcloudInput"placeholder="soundcloud.com/yourprofile"oninput="validateEditLinks()"> <span class="edit-validation-icon"id="editSoundcloudStatus"></span></div></div><div class="edit-link-item"><div class="edit-link-label"><span class="edit-link-icon"><svg viewBox="0 0 24 24"width="18"height="18"fill="#F5C518"><path d="M14.31 9.588v.005c-.077-.048-.227-.07-.42-.07v4.815c.27 0 .44-.022.5-.065.062-.043.092-.162.092-.357V9.89c0-.192-.06-.258-.172-.302zm-6.57 3.755c0 .322-.022.55-.065.685-.043.135-.12.202-.232.202-.096 0-.168-.057-.217-.17-.048-.114-.072-.337-.072-.668v-1.73c0-.304.027-.516.082-.636.055-.12.13-.18.227-.18.103 0 .178.063.225.19.047.126.07.35.07.672l-.018 1.635zm9.04-3.807c-.193 0-.337.058-.435.175-.098.117-.147.31-.147.58v.347h1.182v-.347c0-.27-.05-.463-.148-.58-.098-.117-.245-.175-.453-.175zM24 4.5v15c0 2.485-2.015 4.5-4.5 4.5h-15A4.502 4.502 0 0 1 0 19.5v-15C0 2.015 2.015 0 4.5 0h15C21.985 0 24 2.015 24 4.5zM9.602 8.197H6.352v.625h1.14v5.46h.968v-5.46h1.14l.002-.625zm3.062 1.89c0-.387-.058-.67-.173-.85-.114-.18-.303-.27-.566-.27-.226 0-.403.075-.53.227-.128.152-.192.375-.192.67v2.953c0 .327.062.57.185.727.123.157.3.235.533.235.217 0 .398-.066.543-.2.145-.133.218-.31.218-.527h-.005v.4h.942V8.197h-.955v1.89zm3.847 2.132c0 .28-.017.487-.05.622-.033.135-.095.202-.186.202-.062 0-.117-.024-.167-.072a.395.395 0 0 1-.103-.177.899.899 0 0 1-.032-.245l-.01-.363v-2.4h-.943v2.663c0 .45.062.775.186.975.124.2.328.3.612.3.188 0 .347-.058.475-.172.128-.115.22-.26.275-.436v.532h.887V9.785h-.944v2.434zm3.847-1.133v-.093c0-.27-.023-.46-.07-.568-.047-.108-.127-.163-.24-.163-.117 0-.2.055-.247.165-.047.11-.07.3-.07.57v.088h.627zm.938 1.345h-.938v.075c0 .26-.02.438-.057.535-.038.097-.103.145-.195.145-.103 0-.176-.04-.22-.12-.044-.08-.066-.24-.066-.478v-.742h1.476v-.765c0-.47-.082-.812-.245-1.025-.163-.213-.424-.32-.783-.32-.35 0-.614.112-.792.337-.178.224-.267.562-.267 1.013v1.768c0 .457.094.797.282 1.02.188.224.46.335.816.335.367 0 .637-.108.81-.326.173-.218.26-.565.26-1.042l-.08-.41z"/></svg> </span>IMDb</div><div class="edit-input-wrapper"><input type="url"class="edit-input"id="editImdbInput"placeholder="imdb.com/name/nm..."oninput="validateEditLinks()"> <span class="edit-validation-icon"id="editImdbStatus"></span></div></div><p class="edit-helper-text">Used to verify your work and improve introductions.</div></div><div class="edit-modal-footer"><button class="edit-btn-cancel"onclick="closeEditProfileModal()">Cancel</button> <button class="edit-btn-save"id="editSaveBtn"onclick="saveEditProfile()"disabled="disabled">Save</button></div></div></div><div class="modal-overlay"id="signInModal"onclick="closeSignIn(event)"><div class="modal-content"onclick="event.stopPropagation()"><button class="modal-close"onclick="closeSignIn()">&times;</button><div class="modal-step"id="signupStep"><h2 class="modal-title">Join Tapinx</h2><div class="modal-row"><div class="modal-form-group"><label class="modal-label">What's your name?</label> <input class="modal-input"id="signupName"placeholder="Full name"oninput="validateSignupForm()"><p class="modal-error"id="nameError">Please enter your full name</div><div class="modal-form-group small"><label class="modal-label">How old are you?</label> <select class="modal-select"id="signupAge"onchange="validateSignupForm()"><option value="">Age</option>.hero h1 span,.gradient-text{background:var(--color-primary-gradient);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}button.primary,.btn-primary,.modal-btn.active,.cta-button{background:var(--color-primary-gradient)!important;border:none!important;color:white!important;border-radius:999px!important}button.secondary,.btn-secondary{background:var(--color-background)!important;border:1px solid var(--color-border)!important;color:var(--color-text-primary)!important;border-radius:999px!important}button,.btn,.cta-button{border-radius:999px!important;transition:all .3s ease-in-out!important}button:hover,.btn:hover,.cta-button:hover{transform:translateY(-1px);box-shadow:0 4px 12px rgba(110,168,255,.15)}input,textarea,select{border-radius:999px!important;background:var(--color-background-secondary)!important;border:1px solid var(--color-border)!important;padding:12px 18px!important;transition:all .2s ease-in-out!important}input:focus,textarea:focus,select:focus{outline:none!important;border-color:var(--color-primary)!important;box-shadow:0 0 0 3px rgba(110,168,255,.1)!important}.modal,.modal-content{border-radius:20px!important;box-shadow:var(--shadow-modal)!important}.modal-overlay{background:var(--modal-overlay-bg)!important;backdrop-filter:blur(8px)!important}.card,.feed-item,.connection-item{border-radius:16px!important;border:1px solid var(--color-border)!important;transition:all .2s ease-in-out!important}.card:hover,.feed-item:hover,.connection-item:hover{box-shadow:0 4px 16px rgba(15,23,42,.06)!important;transform:translateY(-2px)!important}.bubble-incoming,.message-incoming{background:#1E293B!important;color:#FFFFFF!important;border-radius:20px 20px 20px 4px!important}.bubble-outgoing,.message-outgoing{background:#F1F5FF!important;color:#0F172A!important;border-radius:20px 20px 4px 20px!important}.sidebar-link.active::before,.nav-link.active::before{background:var(--color-primary-gradient)!important}.sidebar-link.active{background:var(--color-background-secondary)!important;font-weight:600!important}@keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}*{transition-timing-function:ease-in-out!important}<script>for(let o=18;o<=80;o++)document.write('<option value="'+o+'">'+o+"</option>")</script></select><p class="modal-error"id="ageError">Required</div></div><div class="modal-form-group"><label class="modal-label">Phone Number</label><div class="phone-row"><div class="country-dropdown"><button type="button"class="country-btn"onclick="toggleCountryList()"><span class="flag"id="selectedFlag">üá∫üá∏</span> <span id="selectedCode">+1</span> <span style="color:var(--color-text-muted);font-size:10px">‚ñæ</span></button><div class="country-list"id="countryList"><div class="country-search"><input placeholder="Search country..."id="countrySearch"oninput="filterCountries()"></div><div id="countryItems"></div></div></div><input type="tel"class="phone-number-input"id="phoneInput"placeholder="(123) 456-7890"oninput="formatPhoneNumber(this),validateSignupForm()"></div><p class="modal-error"id="phoneError">Please enter a valid phone number</div><div class="modal-checkbox"><input type="checkbox"id="termsCheckbox"onchange="validateSignupForm()"> <label for="termsCheckbox">You must be 18 or above to use Tapinx. <a href="#">View our TOS.</a></label></div><button class="modal-btn"id="submitBtn"onclick="submitSignup()">Submit</button><div id="recaptcha-container"></div></div><div class="modal-step hidden"id="otpStep"><button class="back-btn"onclick="showSignupStep()">‚Üê Back</button><h2 class="modal-title">Enter Code</h2><p class="modal-subtitle">We sent a 6-digit code to <span id="phoneDisplay">+1 (123) 456-7890</span><div class="otp-inputs"><input inputmode="numeric"class="otp-input"maxlength="1"id="otp1"oninput='otpInput(this,"otp2",null)'onkeydown="otpKeydown(event,null)"> <input inputmode="numeric"class="otp-input"maxlength="1"id="otp2"oninput='otpInput(this,"otp3","otp1")'onkeydown='otpKeydown(event,"otp1")'> <input inputmode="numeric"class="otp-input"maxlength="1"id="otp3"oninput='otpInput(this,"otp4","otp2")'onkeydown='otpKeydown(event,"otp2")'> <input inputmode="numeric"class="otp-input"maxlength="1"id="otp4"oninput='otpInput(this,"otp5","otp3")'onkeydown='otpKeydown(event,"otp3")'> <input inputmode="numeric"class="otp-input"maxlength="1"id="otp5"oninput='otpInput(this,"otp6","otp4")'onkeydown='otpKeydown(event,"otp4")'> <input inputmode="numeric"class="otp-input"maxlength="1"id="otp6"oninput='otpInput(this,null,"otp5")'onkeydown='otpKeydown(event,"otp5")'></div><p class="resend-text"><span class="resend-timer"id="resendTimer">Resend code in 60s</span><a id="resendLink"style="display:none"onclick="resendCode()">Resend code</a></p><button class="modal-btn active"onclick="verifyOtp()">Verify</button></div><div class="modal-step hidden"id="signinStep"><h2 class="modal-title">Welcome back!</h2><div class="modal-form-group"><label class="modal-label">Phone Number</label><div class="phone-row"><div class="country-dropdown"><button type="button"class="country-btn"onclick="toggleCountryList2()"><span class="flag"id="selectedFlag2">üá∫üá∏</span> <span id="selectedCode2">+1</span> <span style="color:var(--color-text-muted);font-size:10px">‚ñæ</span></button><div class="country-list"id="countryList2"><div class="country-search"><input placeholder="Search country..."id="countrySearch2"oninput="filterCountries2()"></div><div id="countryItems2"></div></div></div><input type="tel"class="phone-number-input"id="phoneInput2"placeholder="(123) 456-7890"oninput="formatPhoneNumber(this)"></div><p class="modal-error"id="phoneError2">Please enter a valid phone number</div><button class="modal-btn active"id="signinBtn"onclick="sendSigninCode()">Send Code</button><p style="text-align:center;margin-top:16px;font-size:14px;color:var(--color-text-secondary)">New to Tapinx? <a style="color:var(--color-primary-gradient);cursor:pointer"onclick="showSignupStep()">Sign up</a></div></div></div><div class="modal-overlay"id="telegramModal"onclick="closeTelegramModal(event)"><div class="modal-content telegram-modal"onclick="event.stopPropagation()"><h2>Let's Message Taj!</h2><p>Your AI friend who will walk you through everything and help you make amazing connections üéØ</p><a href="https://t.me/TapinXBot?start=welcome"target="_blank"class="telegram-btn"onclick="goToTelegram()"><svg viewBox="0 0 24 24"fill="currentColor"><path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/></svg> Chat with Taj on Telegram</a></div></div><script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script><script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script><script>const Router={routes:{"/":{page:"landing",title:"TapinX - Text to Get Connected",requiresAuth:!1},"/opportunities":{page:"opportunities",title:"Opportunities - TapinX",requiresAuth:!0},"/requests":{page:"requests",title:"My Requests - TapinX",requiresAuth:!0},"/connections":{page:"connections",title:"My Connections - TapinX",requiresAuth:!0},"/settings":{page:"settings",title:"Settings - TapinX",requiresAuth:!0},"/referrals":{page:"referrals",title:"Referrals - TapinX",requiresAuth:!0}},isFirstLoad:!0,currentPage:null,isAuthenticated:function(){return!(!localStorage.getItem("tapinx_user_id")&&!localStorage.getItem("tapinx_user_phone"))},getRoute:function(e){return this.routes[e]||null},getCurrentPath:function(){return window.location.pathname},navigate:function(e,t={}){const n="landing"===e?"/":"/"+e,o=this.getRoute(n);return console.log("[Router] Navigate to:",e,"Path:",n),o||"landing"===e?o&&o.requiresAuth&&!this.isAuthenticated()?(console.log("[Router] Auth required, redirecting to landing"),void this.navigate("landing")):void(this.currentPage!==e||t.force?(this.isFirstLoad||t.replace?history.replaceState({page:e,path:n},"",n):history.pushState({page:e,path:n},"",n),document.title=o?o.title:"TapinX",this.showPage(e),this.currentPage=e,this.isFirstLoad=!1):console.log("[Router] Already on page:",e)):(console.log("[Router] Invalid route, redirecting to opportunities"),void this.navigate("opportunities"))},showPage:function(e){console.log("[Router] Showing page:",e),"landing"===e?"function"==typeof showPage&&showPage("landing"):("function"==typeof showPage&&showPage("dashboard"),this.showAppPage(e))},showAppPage:function(e){console.log("[Router] Showing app page:",e);const t=document.querySelector(".new-main-column");t&&t.classList.add("page-loading");try{"function"==typeof closeMobileMenu&&closeMobileMenu()}catch(e){}const n={opportunities:"newOpportunitiesPage",requests:"newRequestsPage",connections:"newConnectionsPage",settings:"newSettingsPage",referrals:"newReferralsPage"};Object.values(n).forEach(e=>{const t=document.getElementById(e);t&&(t.style.display="none")});const o=n[e];if(o){const e=document.getElementById(o);e&&(e.style.display="block")}"function"==typeof updateMobileHeader&&updateMobileHeader({requests:"My Requests",connections:"My Connections",opportunities:"Opportunities",referrals:"Referrals",settings:"Settings"}[e]||"TapinX"),document.querySelectorAll(".new-sidebar-link").forEach(t=>{t.classList.remove("active");const n=t.getAttribute("onclick");n&&n.includes("'"+e+"'")&&t.classList.add("active")});const a=document.getElementById("nav"+e.charAt(0).toUpperCase()+e.slice(1));if(a&&a.classList.add("active"),document.querySelectorAll(".new-sidebar-sublink").forEach(e=>e.classList.remove("active")),document.querySelectorAll(".new-sidebar-expand").forEach(e=>{e.style.display="none"}),"requests"===e){const e=document.getElementById("requestsExpand");e&&(e.style.display="block");const t=document.querySelectorAll("#newRequestsPage .new-tab");t.forEach(e=>e.classList.remove("active")),t[0]&&t[0].classList.add("active"),document.querySelectorAll("#requestsExpand .new-sidebar-sublink").forEach(e=>e.classList.remove("active"));const n=document.querySelectorAll("#requestsExpand .new-sidebar-sublink");n[0]&&n[0].classList.add("active")}if("connections"===e){const e=document.getElementById("connectionsExpand");e&&(e.style.display="block");const t=document.querySelectorAll("#newConnectionsPage .new-tab");t.forEach(e=>e.classList.remove("active")),t[0]&&t[0].classList.add("active"),document.querySelectorAll("#connectionsExpand .new-sidebar-sublink").forEach(e=>e.classList.remove("active"));const n=document.querySelectorAll("#connectionsExpand .new-sidebar-sublink");n[0]&&n[0].classList.add("active")}if("opportunities"===e){const e=document.getElementById("opportunitiesExpand");e&&(e.style.display="block");const t=document.querySelectorAll("#newOpportunitiesPage .new-tab");t.forEach(e=>e.classList.remove("active")),t[0]&&t[0].classList.add("active"),document.querySelectorAll("#opportunitiesExpand .new-sidebar-sublink").forEach(e=>e.classList.remove("active"));const n=document.querySelectorAll("#opportunitiesExpand .new-sidebar-sublink");n[0]&&n[0].classList.add("active")}this.loadPageData(e),void 0!==currentNewAppPage&&(currentNewAppPage=e),setTimeout(()=>{t&&t.classList.remove("page-loading")},300)},loadPageData:function(e){console.log("[Router] Loading data for:",e);try{"requests"===e&&"function"==typeof loadNewRequests&&loadNewRequests(),"connections"===e&&"function"==typeof loadNewConnections&&loadNewConnections(),"opportunities"===e&&"function"==typeof loadNewOpportunities&&loadNewOpportunities()}catch(e){console.error("[Router] Error loading page data:",e)}},handlePopState:function(e){console.log("[Router] PopState event:",e.state);let t="landing";if(e.state&&e.state.page)t=e.state.page;else{const e=window.location.pathname,n=this.getRoute(e);t=n?n.page:"landing"}if("landing"!==t&&!this.isAuthenticated())return void window.location.replace("/");const n=this.getRoute("landing"===t?"/":"/"+t);document.title=n?n.title:"TapinX",this.currentPage=t,this.showPage(t)},init:function(){if(console.log("[Router] Initializing..."),window.location.hash){const e=window.location.hash.replace("#","");if(this.routes["/"+e])return void window.location.replace("/"+e)}const e=this.getCurrentPath(),t=this.getRoute(e),n=this.isAuthenticated();console.log("[Router] Path:",e,"Authenticated:",n),"/admin"===e||e.startsWith("/admin/")?console.log("[Router] Admin page - skipping router"):t?!t.requiresAuth||n?"/"===e&&n?this.navigate("opportunities",{replace:!0}):(this.navigate(t.page,{replace:!0}),console.log("[Router] Initialization complete")):window.location.replace("/"):n?window.location.replace("/opportunities"):window.location.replace("/")}};window.addEventListener("popstate",function(e){Router.handlePopState(e)}),window.addEventListener("online",function(){console.log("[Network] Back online"),Router.currentPage&&Router.loadPageData(Router.currentPage)}),window.addEventListener("offline",function(){console.log("[Network] Went offline")});const API_URL="https://tapinx-backend-production.up.railway.app/api";async function fetchProfileFromBackend(){const e=localStorage.getItem("tapinx_user_phone");if(!e)return null;try{const t=await fetch(`${API_URL}/users/${encodeURIComponent(e)}/profile`);if(!t.ok)return null;const n=await t.json();return n.name&&localStorage.setItem("tapinx_user_name",n.name),n.age&&localStorage.setItem("tapinx_user_age",n.age),n.bio&&localStorage.setItem("tapinx_user_bio",n.bio),n.linkedin&&localStorage.setItem("tapinx_user_linkedin",n.linkedin),n.instagram&&localStorage.setItem("tapinx_user_instagram",n.instagram),n.twitter&&localStorage.setItem("tapinx_user_twitter",n.twitter),n.soundcloud&&localStorage.setItem("tapinx_user_soundcloud",n.soundcloud),n.imdb&&localStorage.setItem("tapinx_user_imdb",n.imdb),n.photo&&localStorage.setItem("tapinx_user_photo",n.photo),n.skills&&localStorage.setItem("tapinx_user_skills",JSON.stringify(n.skills)),console.log("[TapinX] Profile synced from backend"),n}catch(e){return console.error("[TapinX] Error fetching profile:",e),null}}async function fetchMatches(){const e=localStorage.getItem("tapinx_user_id"),t=localStorage.getItem("tapinx_user_phone"),n=e||t;if(!n)return{matches:[],count:0};try{const e=await fetch(`${API_URL}/opportunities/${encodeURIComponent(n)}`),t=await e.json();if(t.success){return{matches:t.opportunities.map(e=>({id:e.id,other_name:e.requester_name,match_type:e.match_type||"professional",intro_reason:e.ask_title,created_at:e.created_at})),count:t.count}}}catch(e){console.error("Error fetching opportunities:",e)}return{matches:[],count:0}}async function fetchConnections(){let e=null,t=null;try{e=localStorage.getItem("tapinx_user_id"),t=localStorage.getItem("tapinx_user_phone")}catch(e){console.error("[TapinX] Error accessing localStorage:",e)}if(!e&&t)try{console.log("[TapinX] userId not found in localStorage, fetching from API using phone:",t);const n=await fetch(`${API_URL}/users/${encodeURIComponent(t)}/profile`);if(n.ok){const t=await n.json();if(t.id){e=t.id;try{localStorage.setItem("tapinx_user_id",e),console.log("[TapinX] userId retrieved from profileData.id and stored:",e)}catch(e){console.warn("[TapinX] Could not store userId in localStorage:",e)}}else if(t.user_id){e=t.user_id;try{localStorage.setItem("tapinx_user_id",e),console.log("[TapinX] userId retrieved from profileData.user_id and stored:",e)}catch(e){console.warn("[TapinX] Could not store userId in localStorage:",e)}}else if(t.user?.id){e=t.user.id;try{localStorage.setItem("tapinx_user_id",e),console.log("[TapinX] userId retrieved from profileData.user.id and stored:",e)}catch(e){console.warn("[TapinX] Could not store userId in localStorage:",e)}}else console.warn("[TapinX] Profile API response does not contain userId field:",t)}else console.warn("[TapinX] Profile API response not OK:",n.status,n.statusText)}catch(e){console.error("[TapinX] Error fetching userId from profile API:",e)}const n=e||t;if(!n)return console.warn("[TapinX] No identifier available for fetching connections (userId or phone missing)"),{connections:[],count:0};try{console.log("[TapinX] Fetching connections for identifier:",n);const e=await fetch(`${API_URL}/connections/${encodeURIComponent(n)}`);if(!e.ok)return console.error("[TapinX] Connections API response not OK:",e.status,e.statusText),{connections:[],count:0};const t=await e.json();return console.log("[TapinX] Connections API response:",t),t.success?(console.log("[TapinX] Successfully fetched connections:",t.count),{connections:t.connections||[],count:t.count||0}):(console.warn("[TapinX] Connections API returned success=false:",t),{connections:[],count:0})}catch(e){return console.error("[TapinX] Error fetching connections:",e),{connections:[],count:0}}}async function respondToMatch(e,t){const n=localStorage.getItem("tapinx_user_id");if(!n)return!1;try{const o=await fetch(`${API_URL}/matches/${e}/respond`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({response:"accept"===t?"yes":"no",user_id:n})});return(await o.json()).success}catch(e){return console.error("Error responding to match:",e),!1}}let auth=null,recaptchaVerifier=null,confirmationResult=null,firebaseReady=!1;function initFirebase(){if("undefined"==typeof firebase)return console.log("Firebase SDK not loaded yet, using demo mode"),!1;try{const e={apiKey:"AIzaSyDqV46aMnuk3OzF-VjQ_AtCiH3RxQ4RYUs",authDomain:"tapinx-e6a04.firebaseapp.com",projectId:"tapinx-e6a04",storageBucket:"tapinx-e6a04.firebasestorage.app",messagingSenderId:"898635790224",appId:"1:898635790224:web:0c2f5bcde9f20c27cb6515",measurementId:"G-95VQG4X74F"};return firebase.initializeApp(e),auth=firebase.auth(),firebaseReady=!0,console.log("Firebase initialized successfully"),!0}catch(e){return console.error("Firebase init error:",e),!1}}function checkReferralParams(){const e=new URLSearchParams(window.location.search),t=e.get("ref"),n=e.get("opp");t&&(localStorage.setItem("tapinx_referred_by",t),console.log("[Referral] Referred by user:",t)),n&&(localStorage.setItem("tapinx_referred_opportunity",n),console.log("[Referral] Referred for opportunity:",n))}function initRecaptcha(){if(firebaseReady){if(recaptchaVerifier){try{recaptchaVerifier.clear()}catch(e){}recaptchaVerifier=null}try{recaptchaVerifier=new firebase.auth.RecaptchaVerifier("recaptcha-container",{size:"invisible",siteKey:"6Lfq8issAAAAADs1c6CAivmsgzIVlV1W4uaYTLR7"}),recaptchaVerifier.render().then(function(e){console.log("reCAPTCHA rendered successfully")}).catch(function(e){console.error("reCAPTCHA render error:",e),recaptchaVerifier=null})}catch(e){console.error("reCAPTCHA init error:",e),recaptchaVerifier=null}}}function showPage(e){document.querySelectorAll(".page").forEach(e=>e.classList.remove("active")),"landing"===e?document.getElementById("landingPage").classList.add("active"):"editProfile"===e?(document.getElementById("editProfilePage").classList.add("active"),loadProfileData()):"dashboard"===e?(document.getElementById("dashboardPage").classList.add("active"),loadDashboard()):"connections"===e?(document.getElementById("connectionsPage").classList.add("active"),loadConnections()):"attention"===e&&(document.getElementById("attentionPage").classList.add("active"),loadAttention())}function goBack(){"true"===localStorage.getItem("tapinx_logged_in")?showPage("dashboard"):showPage("landing")}document.addEventListener("DOMContentLoaded",function(){checkReferralParams(),"function"==typeof initFirebase&&initFirebase(),Router.init()}),"complete"!==document.readyState&&"interactive"!==document.readyState||("function"==typeof initFirebase&&initFirebase(),Router.init());const countries=[{name:"United States",code:"+1",flag:"üá∫üá∏"},{name:"United Kingdom",code:"+44",flag:"üá¨üáß"},{name:"Canada",code:"+1",flag:"üá®üá¶"},{name:"India",code:"+91",flag:"üáÆüá≥"},{name:"Australia",code:"+61",flag:"üá¶üá∫"},{name:"Germany",code:"+49",flag:"üá©üá™"},{name:"France",code:"+33",flag:"üá´üá∑"},{name:"Italy",code:"+39",flag:"üáÆüáπ"},{name:"Spain",code:"+34",flag:"üá™üá∏"},{name:"Brazil",code:"+55",flag:"üáßüá∑"},{name:"Mexico",code:"+52",flag:"üá≤üáΩ"},{name:"Japan",code:"+81",flag:"üáØüáµ"},{name:"South Korea",code:"+82",flag:"üá∞üá∑"},{name:"China",code:"+86",flag:"üá®üá≥"},{name:"Singapore",code:"+65",flag:"üá∏üá¨"},{name:"United Arab Emirates",code:"+971",flag:"üá¶üá™"},{name:"Netherlands",code:"+31",flag:"üá≥üá±"},{name:"Sweden",code:"+46",flag:"üá∏üá™"},{name:"Switzerland",code:"+41",flag:"üá®üá≠"},{name:"Ireland",code:"+353",flag:"üáÆüá™"},{name:"New Zealand",code:"+64",flag:"üá≥üáø"},{name:"South Africa",code:"+27",flag:"üáøüá¶"},{name:"Nigeria",code:"+234",flag:"üá≥üá¨"},{name:"Kenya",code:"+254",flag:"üá∞üá™"},{name:"Israel",code:"+972",flag:"üáÆüá±"},{name:"Poland",code:"+48",flag:"üáµüá±"},{name:"Portugal",code:"+351",flag:"üáµüáπ"},{name:"Russia",code:"+7",flag:"üá∑üá∫"},{name:"Turkey",code:"+90",flag:"üáπüá∑"},{name:"Argentina",code:"+54",flag:"üá¶üá∑"},{name:"Chile",code:"+56",flag:"üá®üá±"},{name:"Colombia",code:"+57",flag:"üá®üá¥"},{name:"Philippines",code:"+63",flag:"üáµüá≠"},{name:"Thailand",code:"+66",flag:"üáπüá≠"},{name:"Vietnam",code:"+84",flag:"üáªüá≥"},{name:"Indonesia",code:"+62",flag:"üáÆüá©"},{name:"Malaysia",code:"+60",flag:"üá≤üáæ"},{name:"Pakistan",code:"+92",flag:"üáµüá∞"},{name:"Bangladesh",code:"+880",flag:"üáßüá©"},{name:"Egypt",code:"+20",flag:"üá™üá¨"}];let selectedCountry=countries[0],resendTimer=null,isSigningIn=!1;function initCountryList(){const e=document.getElementById("countryItems");e&&(e.innerHTML=countries.map(e=>`\n                <div class="country-item" onclick="selectCountry('${e.code}', '${e.flag}', '${e.name}')">\n                    <span class="flag">${e.flag}</span>\n                    <span class="name">${e.name}</span>\n                    <span class="code">${e.code}</span>\n                </div>\n            `).join(""))}function toggleCountryList(){const e=document.getElementById("countryList");e.classList.toggle("active"),e.classList.contains("active")&&document.getElementById("countrySearch").focus()}function toggleCountryList2(){const e=document.getElementById("countryList2");e.classList.toggle("active"),e.classList.contains("active")&&document.getElementById("countrySearch2").focus()}function selectCountry(e,t,n){selectedCountry={code:e,flag:t,name:n},document.getElementById("selectedFlag").textContent=t,document.getElementById("selectedCode").textContent=e,document.getElementById("countryList").classList.remove("active");var o=document.getElementById("phoneInput");if(o){o.value="";o.placeholder={"+1":"(000) 000-0000","+91":"00000 00000","+44":"0000 000000","+61":"000 000 000","+971":"00 000 0000"}[e]||"0000000000"}}function selectCountry2(e,t,n){selectedCountry={code:e,flag:t,name:n},document.getElementById("selectedFlag2").textContent=t,document.getElementById("selectedCode2").textContent=e,document.getElementById("countryList2").classList.remove("active");var o=document.getElementById("phoneInput2");if(o){o.value="";o.placeholder={"+1":"(000) 000-0000","+91":"00000 00000","+44":"0000 000000","+61":"000 000 000","+971":"00 000 0000"}[e]||"0000000000"}}function filterCountries(){const e=document.getElementById("countrySearch").value.toLowerCase();document.querySelectorAll("#countryItems .country-item").forEach(t=>{const n=t.querySelector(".name").textContent.toLowerCase();t.style.display=n.includes(e)?"flex":"none"})}function filterCountries2(){const e=document.getElementById("countrySearch2").value.toLowerCase();document.querySelectorAll("#countryItems2 .country-item").forEach(t=>{const n=t.querySelector(".name").textContent.toLowerCase();t.style.display=n.includes(e)?"flex":"none"})}function initCountryList2(){const e=document.getElementById("countryItems2");e&&(e.innerHTML=countries.map(e=>`\n                <div class="country-item" onclick="selectCountry2('${e.code}', '${e.flag}', '${e.name}')">\n                    <span class="flag">${e.flag}</span>\n                    <span class="name">${e.name}</span>\n                    <span class="code">${e.code}</span>\n                </div>\n            `).join(""))}function openSignUp(){"true"!==localStorage.getItem("tapinx_logged_in")?(isSigningIn=!1,document.getElementById("signInModal").classList.add("active"),document.body.style.overflow="hidden",showSignupStep(),initCountryList()):showPage("dashboard")}function openSignIn(){"true"!==localStorage.getItem("tapinx_logged_in")?(isSigningIn=!0,document.getElementById("signInModal").classList.add("active"),document.body.style.overflow="hidden",showSigninStep(),initCountryList(),initCountryList2()):showPage("dashboard")}function closeSignIn(e){e&&e.target!==e.currentTarget||(document.getElementById("signInModal").classList.remove("active"),document.body.style.overflow="",resetModal())}function resetModal(){document.getElementById("signupStep").classList.remove("hidden"),document.getElementById("otpStep").classList.add("hidden"),document.getElementById("signinStep").classList.add("hidden"),document.getElementById("signupName").value="",document.getElementById("signupAge").value="",document.getElementById("phoneInput").value="",document.getElementById("phoneInput2")&&(document.getElementById("phoneInput2").value=""),document.getElementById("termsCheckbox").checked=!1,["otp1","otp2","otp3","otp4","otp5","otp6"].forEach(e=>{const t=document.getElementById(e);t&&(t.value="")}),document.querySelectorAll(".modal-error").forEach(e=>e.style.display="none"),resendTimer&&clearInterval(resendTimer)}function showSignupStep(){document.getElementById("signupStep").classList.remove("hidden"),document.getElementById("otpStep").classList.add("hidden"),document.getElementById("signinStep").classList.add("hidden")}function showSigninStep(){document.getElementById("signupStep").classList.add("hidden"),document.getElementById("otpStep").classList.add("hidden"),document.getElementById("signinStep").classList.remove("hidden")}function showOtpStep(){document.getElementById("signupStep").classList.add("hidden"),document.getElementById("signinStep").classList.add("hidden"),document.getElementById("otpStep").classList.remove("hidden"),document.getElementById("otp1").focus(),startResendTimer()}function formatPhoneNumber(e){let t=e.value.replace(/\D/g,"");t=t.substring(0,10),t.length>6?t="("+t.substring(0,3)+") "+t.substring(3,6)+"-"+t.substring(6):t.length>3?t="("+t.substring(0,3)+") "+t.substring(3):t.length>0&&(t="("+t),e.value=t}function validatePhoneNumber(e){return e.replace(/\D/g,"").length>=10}function validateSignupForm(){const e=document.getElementById("signupName").value.trim(),t=document.getElementById("signupAge").value,n=document.getElementById("phoneInput").value,o=document.getElementById("termsCheckbox").checked,a=document.getElementById("submitBtn"),s=e&&e.split(" ").filter(e=>e).length>=2,i=""!==t,l=validatePhoneNumber(n);s&&i&&l&&o?a.classList.add("active"):a.classList.remove("active")}function submitSignup(){const e=document.getElementById("signupName").value.trim(),t=document.getElementById("signupAge").value,n=document.getElementById("phoneInput").value,o=document.getElementById("termsCheckbox").checked;let a=!1;if(!e||e.split(" ").filter(e=>e).length<2?(document.getElementById("nameError").textContent="Please enter your full name (first and last)",document.getElementById("nameError").style.display="block",a=!0):document.getElementById("nameError").style.display="none",t?document.getElementById("ageError").style.display="none":(document.getElementById("ageError").style.display="block",a=!0),validatePhoneNumber(n)?document.getElementById("phoneError").style.display="none":(document.getElementById("phoneError").textContent="Please enter a valid phone number",document.getElementById("phoneError").style.display="block",a=!0),o||(alert("Please agree to the Terms of Service"),a=!0),a)return;localStorage.setItem("tapinx_signup_name",e),localStorage.setItem("tapinx_signup_age",t),localStorage.setItem("tapinx_signup_phone",selectedCountry.code+" "+n);const s=n.replace(/\D/g,""),i=(selectedCountry.code,document.getElementById("submitBtn"));if(i.textContent="Sending code...",i.disabled=!0,document.getElementById("phoneDisplay").textContent=selectedCountry.code+" "+n,!firebaseReady||!auth)return console.log("Using demo mode (Firebase not ready)"),isSigningIn=!1,showOtpStep(),i.textContent="Submit",void(i.disabled=!1);try{if(initRecaptcha(),!recaptchaVerifier)return console.log("Using demo mode (reCAPTCHA not ready)"),isSigningIn=!1,showOtpStep(),i.textContent="Submit",void(i.disabled=!1);const e=n.replace(/\D/g,""),t=selectedCountry.code+e;auth.signInWithPhoneNumber(t,recaptchaVerifier).then(e=>{confirmationResult=e,isSigningIn=!1,showOtpStep(),i.textContent="Submit",i.disabled=!1}).catch(e=>{console.error("SMS Error:",e),console.log("Firebase failed, using demo mode"),isSigningIn=!1,showOtpStep(),i.textContent="Submit",i.disabled=!1,recaptchaVerifier=null})}catch(e){console.error("Firebase error:",e),isSigningIn=!1,showOtpStep(),i.textContent="Submit",i.disabled=!1}}function sendSigninCode(){const e=document.getElementById("phoneInput2").value;if(!validatePhoneNumber(e))return void(document.getElementById("phoneError2").style.display="block");document.getElementById("phoneError2").style.display="none";const t=document.getElementById("signinBtn");if(t.textContent="Sending code...",t.disabled=!0,document.getElementById("phoneDisplay").textContent=selectedCountry.code+" "+e,!firebaseReady||!auth)return console.log("Using demo mode (Firebase not ready)"),isSigningIn=!0,showOtpStep(),t.textContent="Send Code",void(t.disabled=!1);try{if(initRecaptcha(),!recaptchaVerifier)return console.log("Using demo mode (reCAPTCHA not ready)"),isSigningIn=!0,showOtpStep(),t.textContent="Send Code",void(t.disabled=!1);const n=e.replace(/\D/g,""),o=selectedCountry.code+n;auth.signInWithPhoneNumber(o,recaptchaVerifier).then(e=>{confirmationResult=e,isSigningIn=!0,showOtpStep(),t.textContent="Send Code",t.disabled=!1}).catch(e=>{console.error("SMS Error:",e),console.log("Firebase failed, using demo mode"),isSigningIn=!0,showOtpStep(),t.textContent="Send Code",t.disabled=!1,recaptchaVerifier=null})}catch(e){console.error("Firebase error:",e),isSigningIn=!0,showOtpStep(),t.textContent="Send Code",t.disabled=!1}}function startResendTimer(){let e=60;const t=document.getElementById("resendTimer"),n=document.getElementById("resendLink");t.style.display="inline",n.style.display="none",resendTimer&&clearInterval(resendTimer),resendTimer=setInterval(()=>{e--,t.textContent=`Resend code in ${e}s`,e<=0&&(clearInterval(resendTimer),t.style.display="none",n.style.display="inline")},1e3)}function otpInput(e,t,n){e.value=e.value.replace(/\D/g,""),1===e.value.length&&t&&document.getElementById(t).focus();6===["otp1","otp2","otp3","otp4","otp5","otp6"].map(e=>document.getElementById(e).value).join("").length&&verifyOtp()}function otpKeydown(e,t){"Backspace"===e.key&&""===e.target.value&&t&&document.getElementById(t).focus()}function verifyOtp(){const e=["otp1","otp2","otp3","otp4","otp5","otp6"].map(e=>document.getElementById(e).value).join("");if(6===e.length){const t=document.querySelector("#otpStep .modal-btn");t.textContent="Verifying...",t.disabled=!0,confirmationResult?confirmationResult.confirm(e).then(async e=>{const n=e.user;if(console.log("User verified:",n.phoneNumber),localStorage.setItem("tapinx_uid",n.uid),t.textContent="Verify",t.disabled=!1,closeSignIn(),isSigningIn){localStorage.setItem("tapinx_logged_in","true"),localStorage.setItem("tapinx_user_phone",n.phoneNumber);try{const e="https://tapinx-backend-production.up.railway.app",t=localStorage.getItem("tapinx_referred_by"),o=localStorage.getItem("tapinx_referred_opportunity"),a={phone:n.phoneNumber,name:"User",referred_by:t?parseInt(t):null,referred_opportunity_id:o?parseInt(o):null},s=await fetch(`${e}/api/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),i=await s.json();i.success&&i.user&&(localStorage.setItem("tapinx_user_id",i.user.id),i.user.name&&localStorage.setItem("tapinx_user_name",i.user.name),console.log("[TapinX] User synced:",i.user.id),localStorage.removeItem("tapinx_referred_by"),localStorage.removeItem("tapinx_referred_opportunity"))}catch(e){console.error("[TapinX] Backend sync error:",e)}Router.navigate("opportunities")}else{const e=localStorage.getItem("tapinx_signup_name")||"",t=localStorage.getItem("tapinx_signup_age")||"",n=localStorage.getItem("tapinx_signup_phone")||"",o=localStorage.getItem("tapinx_referred_by"),a=localStorage.getItem("tapinx_referred_opportunity");localStorage.setItem("tapinx_user_name",e),localStorage.setItem("tapinx_user_age",t),localStorage.setItem("tapinx_user_phone",n),localStorage.removeItem("tapinx_signup_name"),localStorage.removeItem("tapinx_signup_age"),localStorage.removeItem("tapinx_signup_phone"),fetchProfileFromBackend().then(()=>{if(updateNewSidebar(),o||a){const e=localStorage.getItem("tapinx_user_id");e&&fetch(API_URL+"/api/users/"+e,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({referred_by:o?parseInt(o):null,referred_opportunity_id:a?parseInt(a):null})}).catch(console.error)}localStorage.removeItem("tapinx_referred_by"),localStorage.removeItem("tapinx_referred_opportunity")}),Router.navigate("opportunities"),a&&setTimeout(()=>{},500),setTimeout(()=>openEditProfileModal(),300)}}).catch(e=>{console.error("Verification error:",e),t.textContent="Verify",t.disabled=!1,"auth/invalid-verification-code"===e.code?alert("Invalid code. Please check and try again."):"auth/code-expired"===e.code?alert("Code expired. Please request a new one."):alert("Verification failed. Please try again."),["otp1","otp2","otp3","otp4","otp5","otp6"].forEach(e=>{document.getElementById(e).value=""}),document.getElementById("otp1").focus()}):(alert("Something went wrong. Please try again."),t.textContent="Verify",t.disabled=!1)}}function resendCode(){const e=document.getElementById("phoneDisplay").textContent.replace(/[^\d+]/g,"");initRecaptcha(),auth.signInWithPhoneNumber(e,recaptchaVerifier).then(e=>{confirmationResult=e,startResendTimer()}).catch(e=>{console.error("Resend error:",e),alert("Failed to resend code. Please try again."),recaptchaVerifier=null})}function showTelegramModal(){document.getElementById("telegramModal").classList.add("active"),document.body.style.overflow="hidden"}function closeTelegramModal(e){e&&e.target!==e.currentTarget||(document.getElementById("telegramModal").classList.remove("active"),document.body.style.overflow="",Router.navigate("opportunities"))}function goToTelegram(){setTimeout(()=>{document.getElementById("telegramModal").classList.remove("active"),document.body.style.overflow="",showNewAppPage("opportunities")},500)}document.addEventListener("click",function(e){const t=document.getElementById("countryList"),n=document.getElementById("countryList2"),o=document.querySelectorAll(".country-btn");let a=!1;o.forEach(t=>{t.contains(e.target)&&(a=!0)}),a||(t&&!t.contains(e.target)&&t.classList.remove("active"),n&&!n.contains(e.target)&&n.classList.remove("active"))});let originalProfileData={};function openEditProfileModal(){document.querySelectorAll(".dropdown").forEach(e=>e.classList.remove("active"));const e=localStorage.getItem("tapinx_user_name")||"",t=localStorage.getItem("tapinx_user_age")||"",n=localStorage.getItem("tapinx_user_bio")||"",o=localStorage.getItem("tapinx_user_photo"),a=localStorage.getItem("tapinx_user_linkedin")||"",s=localStorage.getItem("tapinx_user_instagram")||"",i=localStorage.getItem("tapinx_user_twitter")||"",l=localStorage.getItem("tapinx_user_soundcloud")||"",c=localStorage.getItem("tapinx_user_imdb")||"",r=localStorage.getItem("tapinx_user_skills"),d=r?JSON.parse(r):[];originalProfileData={name:e,age:t,bio:n,photo:o,linkedin:a,instagram:s,twitter:i,soundcloud:l,imdb:c,skills:d},document.getElementById("editNameInput").value=e,document.getElementById("editAgeInput").value=t,document.getElementById("editBioInput").value=n,document.getElementById("editLinkedinInput").value=a,document.getElementById("editInstagramInput").value=s,document.getElementById("editTwitterInput").value=i,document.getElementById("editSoundcloudInput").value=l,document.getElementById("editImdbInput").value=c;const u=e?e.charAt(0).toUpperCase():"T";document.getElementById("editPhotoPlaceholder").textContent=u,o?(document.getElementById("editPhotoPreview").src=o,document.getElementById("editPhotoPreview").style.display="block",document.getElementById("editPhotoPlaceholder").style.display="none"):(document.getElementById("editPhotoPreview").style.display="none",document.getElementById("editPhotoPlaceholder").style.display="flex"),initSkills(),validateEditLinks(),checkEditForm(),document.getElementById("editProfileOverlay").classList.add("active"),document.body.style.overflow="hidden"}function closeEditProfileModal(e){e&&e.target!==e.currentTarget||(document.getElementById("editProfileOverlay").classList.remove("active"),document.body.style.overflow="")}function handleEditPhoto(e){if(e.files&&e.files[0]){const t=new FileReader;t.onload=function(e){document.getElementById("editPhotoPreview").src=e.target.result,document.getElementById("editPhotoPreview").style.display="block",document.getElementById("editPhotoPlaceholder").style.display="none",checkEditForm()},t.readAsDataURL(e.files[0])}}function validateEditUrl(e,t){if(!e)return"empty";return{linkedin:/linkedin\.com\/(in|company)\//i,instagram:/instagram\.com\//i,twitter:/(twitter\.com|x\.com)\//i,soundcloud:/soundcloud\.com\//i,imdb:/imdb\.com\/(name|title)\//i}[t].test(e)?"valid":"invalid"}function validateEditLinks(){["linkedin","instagram","twitter","soundcloud","imdb"].forEach(e=>{const t=document.getElementById("edit"+e.charAt(0).toUpperCase()+e.slice(1)+"Input"),n=document.getElementById("edit"+e.charAt(0).toUpperCase()+e.slice(1)+"Status"),o=validateEditUrl(t.value,e);n.className="edit-validation-icon",n.textContent="","valid"===o?(n.classList.add("valid"),n.textContent="‚úì"):"invalid"===o&&(n.classList.add("invalid"),n.textContent="‚úï")}),checkEditForm()}function checkEditForm(){const e=document.getElementById("editNameInput").value.trim(),t="valid"===validateEditUrl(document.getElementById("editInstagramInput").value,"instagram"),n=document.getElementById("editSaveBtn");n&&(n.disabled=!(e&&t))}function saveEditProfile(){const e=document.getElementById("editNameInput").value.trim(),t=document.getElementById("editInstagramInput").value;if(!e||"valid"!==validateEditUrl(t,"instagram"))return;const n={name:e,age:document.getElementById("editAgeInput").value,bio:document.getElementById("editBioInput").value,linkedin:document.getElementById("editLinkedinInput").value,instagram:t,twitter:document.getElementById("editTwitterInput").value,soundcloud:document.getElementById("editSoundcloudInput").value,imdb:document.getElementById("editImdbInput").value,skills:selectedSkills,photo:"block"===document.getElementById("editPhotoPreview").style.display?document.getElementById("editPhotoPreview").src:null};localStorage.setItem("tapinx_logged_in","true"),localStorage.setItem("tapinx_user_name",n.name),localStorage.setItem("tapinx_user_age",n.age),localStorage.setItem("tapinx_user_bio",n.bio),localStorage.setItem("tapinx_user_linkedin",n.linkedin),localStorage.setItem("tapinx_user_instagram",n.instagram),localStorage.setItem("tapinx_user_twitter",n.twitter),localStorage.setItem("tapinx_user_soundcloud",n.soundcloud),localStorage.setItem("tapinx_user_imdb",n.imdb),localStorage.setItem("tapinx_user_skills",JSON.stringify(n.skills)),n.photo&&localStorage.setItem("tapinx_user_photo",n.photo),saveProfileToBackend(n),closeEditProfileModal(),showNewToast("Profile saved"),updateNewSidebar(),document.getElementById("dashboardPage").classList.contains("active")&&loadDashboard(),t&&"valid"===validateEditUrl(t,"instagram")&&triggerProfileScrape(t)}async function saveProfileToBackend(e){const t=localStorage.getItem("tapinx_user_phone");if(t)try{const n=await fetch(`${API_URL}/users/${encodeURIComponent(t)}/profile`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({full_name:e.name,age:e.age,bio:e.bio,linkedin_url:e.linkedin,instagram_url:e.instagram,twitter_url:e.twitter,soundcloud_url:e.soundcloud,imdb_url:e.imdb,skills:e.skills,photo_url:e.photo})});n.ok?console.log("[TapinX] Profile saved to backend"):console.error("[TapinX] Failed to save profile to backend:",n.status)}catch(e){console.error("[TapinX] Error saving profile to backend:",e)}else console.log("No phone number - skipping backend save")}!function(){const e=document.getElementById("editAgeInput");if(e)for(let t=18;t<=80;t++){const n=document.createElement("option");n.value=t,n.textContent=t,e.appendChild(n)}}();let selectedSkills=[];const maxSkills=5,skillsData={tech:["JavaScript","Python","React","Node.js","TypeScript","AWS","Machine Learning","AI/ML","Data Science","iOS Development","Android","DevOps","Cloud Architecture","Blockchain","Cybersecurity","Full Stack","Frontend","Backend","Mobile Development","Database Design","API Design","System Design","Product Engineering"],creative:["UI/UX Design","Graphic Design","Brand Design","Video Production","Photography","Motion Graphics","Illustration","3D Design","Animation","Art Direction","Content Creation","Copywriting","Creative Direction","Music Production","Sound Design","Film Making","Podcast Production","Social Media Content"],business:["Product Management","Project Management","Strategy","Marketing","Sales","Business Development","Operations","Finance","Consulting","Analytics","Growth Marketing","SEO/SEM","Partnerships","Fundraising","Investor Relations","Customer Success","Account Management","Team Leadership","Executive Leadership"],other:["Public Speaking","Writing","Coaching","Mentorship","Community Building","Event Planning","Recruiting","HR","Legal","Real Estate","Healthcare","Education","Research","Non-profit","Sustainability","Fitness","Wellness"]};function initSkills(){const e=localStorage.getItem("tapinx_user_skills");selectedSkills=e?JSON.parse(e):[],renderSelectedSkills(),renderSkillsGrid("all")}function renderSelectedSkills(){const e=document.getElementById("selectedSkills");e&&(0!==selectedSkills.length?e.innerHTML=selectedSkills.map(e=>`\n                <span class="skill-tag">\n                    ${e}\n                    <button class="skill-tag-remove" onclick="removeSkill('${e}')">√ó</button>\n                </span>\n            `).join(""):e.innerHTML='<span style="color: #536471; font-size: 13px;">No skills selected yet</span>')}function renderSkillsGrid(e){const t=document.getElementById("skillsGrid");if(!t)return;let n=[];n="all"===e?[...skillsData.tech,...skillsData.creative,...skillsData.business,...skillsData.other]:skillsData[e]||[],n.sort(),t.innerHTML=n.map(e=>{const t=selectedSkills.includes(e),n=!t&&selectedSkills.length>=maxSkills;return`\n                    <button class="skill-option ${t?"selected":""} ${n?"disabled":""}" \n                            onclick="toggleSkill('${e}')" \n                            ${n?"disabled":""}>\n                        ${e}\n                    </button>\n                `}).join("")}function showSkillCategory(e,t){document.querySelectorAll(".skills-category-btn").forEach(e=>e.classList.remove("active")),t.classList.add("active"),renderSkillsGrid(e)}function toggleSkill(e){selectedSkills.includes(e)?removeSkill(e):selectedSkills.length<maxSkills&&(selectedSkills.push(e),renderSelectedSkills(),renderSkillsGrid(getCurrentCategory()),checkEditForm())}function removeSkill(e){selectedSkills=selectedSkills.filter(t=>t!==e),renderSelectedSkills(),renderSkillsGrid(getCurrentCategory()),checkEditForm()}function getCurrentCategory(){const e=document.querySelector(".skills-category-btn.active");if(e){const t=e.textContent.toLowerCase();return"all"===t?"all":t}return"all"}function filterSkills(e){const t=document.getElementById("skillsDropdown");if(!e.trim())return void t.classList.remove("show");const n=[...skillsData.tech,...skillsData.creative,...skillsData.business,...skillsData.other];let o=n.filter(t=>t.toLowerCase().includes(e.toLowerCase())&&!selectedSkills.includes(t)).slice(0,5).map(e=>`\n                <div class="skills-dropdown-item" onclick="selectSkillFromDropdown('${e}')">${e}</div>\n            `).join("");!n.some(t=>t.toLowerCase()===e.toLowerCase())&&e.trim().length>1&&selectedSkills.length<maxSkills&&(o+=`<div class="skills-dropdown-item add-custom" onclick="addCustomSkill('${e.trim()}')">+ Add "${e.trim()}"</div>`),t.innerHTML=o,t.classList.add("show")}function showSkillsDropdown(){const e=document.getElementById("skillsSearchInput");e.value.trim()&&filterSkills(e.value)}function selectSkillFromDropdown(e){selectedSkills.length<maxSkills&&(selectedSkills.push(e),renderSelectedSkills(),renderSkillsGrid(getCurrentCategory()),document.getElementById("skillsSearchInput").value="",document.getElementById("skillsDropdown").classList.remove("show"),checkEditForm())}function addCustomSkill(e){selectedSkills.length<maxSkills&&!selectedSkills.includes(e)&&(selectedSkills.push(e),renderSelectedSkills(),document.getElementById("skillsSearchInput").value="",document.getElementById("skillsDropdown").classList.remove("show"),checkEditForm())}async function triggerProfileScrape(e){try{const t="https://your-n8n-instance.com/webhook/scrape-profile",n=localStorage.getItem("tapinx_user_id")||"user_"+Date.now();localStorage.getItem("tapinx_user_id")||localStorage.setItem("tapinx_user_id",n),await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:n,instagramUrl:e,linkedinUrl:document.getElementById("editLinkedinInput").value||null})}),console.log("Profile scrape triggered")}catch(e){console.log("Profile scrape webhook not configured")}}function showProfileBuilding(){document.getElementById("profileBuildingOverlay").classList.add("show")}function hideProfileBuilding(){document.getElementById("profileBuildingOverlay").classList.remove("show")}function applyScrapedProfile(e){if(e.name&&(document.getElementById("editNameInput").value=e.name),e.bio&&(document.getElementById("editBioInput").value=e.bio),e.photo){const t=document.getElementById("editPhotoPreview");t.src=e.photo,t.style.display="block",document.getElementById("editPhotoPlaceholder").style.display="none"}e.skills&&Array.isArray(e.skills)&&(selectedSkills=e.skills.slice(0,maxSkills),renderSelectedSkills(),renderSkillsGrid(getCurrentCategory())),hideProfileBuilding(),showNewToast("Profile updated from your social links!"),checkEditForm()}function handlePhoto(e){if(e.files&&e.files[0]){const t=new FileReader;t.onload=function(e){document.getElementById("photoPreview").src=e.target.result,document.getElementById("photoPreview").style.display="block",document.getElementById("photoPlaceholder").style.display="none"},t.readAsDataURL(e.files[0])}}function validateUrl(e,t){if(!e)return"empty";return{linkedin:/linkedin\.com\/(in|company)\//i,instagram:/instagram\.com\//i,twitter:/(twitter\.com|x\.com)\//i,soundcloud:/soundcloud\.com\//i,imdb:/imdb\.com\/(name|title)\//i}[t].test(e)?"valid":"invalid"}function validateAllSocials(){["linkedin","instagram","twitter","soundcloud","imdb"].forEach(e=>{const t=validateUrl(document.getElementById(e+"Input").value,e),n=document.getElementById(e+"Status");n.className="social-status "+t,n.textContent="valid"===t?"‚úì":"invalid"===t?"‚úï":""});const e=document.getElementById("linkedinInput").value;document.getElementById("linkedinRequired").style.display=e?"none":"inline",checkForm()}function checkForm(){const e=document.getElementById("nameInput").value.trim(),t=document.getElementById("linkedinInput").value;document.getElementById("doneBtn").disabled=!(e&&"valid"===validateUrl(t,"linkedin"))}function loadProfileData(){const e=localStorage.getItem("tapinx_user_name")||"",t=localStorage.getItem("tapinx_user_bio")||"",n=localStorage.getItem("tapinx_user_photo");document.getElementById("nameInput").value=e,document.getElementById("bioInput").value=t,document.getElementById("linkedinInput").value=localStorage.getItem("tapinx_user_linkedin")||"",document.getElementById("instagramInput").value=localStorage.getItem("tapinx_user_instagram")||"",document.getElementById("twitterInput").value=localStorage.getItem("tapinx_user_twitter")||"",document.getElementById("soundcloudInput").value=localStorage.getItem("tapinx_user_soundcloud")||"",document.getElementById("imdbInput").value=localStorage.getItem("tapinx_user_imdb")||"",n&&(document.getElementById("photoPreview").src=n,document.getElementById("photoPreview").style.display="block",document.getElementById("photoPlaceholder").style.display="none"),e&&(document.getElementById("photoPlaceholder").textContent=e.charAt(0).toUpperCase()),validateAllSocials(),checkForm()}function saveProfile(){const e=document.getElementById("nameInput").value.trim(),t=document.getElementById("bioInput").value.trim(),n=document.getElementById("linkedinInput").value;if(!e||"valid"!==validateUrl(n,"linkedin"))return;const o=!localStorage.getItem("tapinx_logged_in");localStorage.setItem("tapinx_logged_in","true"),localStorage.setItem("tapinx_user_name",e),localStorage.setItem("tapinx_user_bio",t),localStorage.setItem("tapinx_user_linkedin",n),localStorage.setItem("tapinx_user_instagram",document.getElementById("instagramInput").value),localStorage.setItem("tapinx_user_twitter",document.getElementById("twitterInput").value),localStorage.setItem("tapinx_user_soundcloud",document.getElementById("soundcloudInput").value),localStorage.setItem("tapinx_user_imdb",document.getElementById("imdbInput").value);const a=document.getElementById("photoPreview");"block"===a.style.display&&localStorage.setItem("tapinx_user_photo",a.src),showToast("Profile saved!"),o?setTimeout(()=>showTelegramModal(),1500):setTimeout(()=>Router.navigate("opportunities"),1500)}function showToast(e){const t=document.getElementById("toast");t.textContent=e,t.classList.add("show"),setTimeout(()=>t.classList.remove("show"),3e3)}async function loadDashboard(){const e=localStorage.getItem("tapinx_user_name")||"User",t=localStorage.getItem("tapinx_user_bio")||"No bio yet",n=localStorage.getItem("tapinx_user_photo"),o=e.charAt(0).toUpperCase(),a=document.getElementById("dashHeaderName");a&&(a.textContent=e),document.getElementById("welcomeName").textContent=e.split(" ")[0],document.getElementById("dashProfileName").textContent=e,document.getElementById("dashProfileBio").textContent=t,document.getElementById("dashAvatarInitial").textContent=o,document.getElementById("dashProfileInitial").textContent=o,n&&(["dashAvatarImg","dashProfileImg"].forEach(e=>{document.getElementById(e).src=n,document.getElementById(e).style.display="block"}),document.getElementById("dashAvatarInitial").style.display="none",document.getElementById("dashProfileInitial").style.display="none");const s=document.getElementById("dashProfileSocials");s.innerHTML="";[["linkedin","üíº","LinkedIn"],["instagram","üì∏","Instagram"],["twitter","ùïè","Twitter"],["soundcloud","üéµ","SoundCloud"],["imdb","üé¨","IMDB"]].forEach(([e,t,n])=>{const o=localStorage.getItem("tapinx_user_"+e);o&&(s.innerHTML+=`<a href="${o}" target="_blank" class="social-badge">${t} ${n}</a>`)});const{count:i}=await fetchMatches(),{count:l}=await fetchConnections(),c=document.getElementById("attentionCard"),r=c?c.querySelector(".action-desc"):null;r&&(r.textContent=0===i?"No pending requests":1===i?"1 opportunity waiting":`${i} opportunities waiting`,i>0?c.classList.add("attention-card-highlight"):c.classList.remove("attention-card-highlight"));const d=document.getElementById("connectionsCard"),u=d?d.querySelector(".action-desc"):null;u&&(u.textContent=0===l?"View your network":1===l?"1 connection":`${l} connections`,l>0?d.classList.add("attention-card-highlight"):d.classList.remove("attention-card-highlight"))}function toggleDropdown(e){e.stopPropagation();const t=document.getElementById("dashDropdown");t&&t.classList.toggle("active")}function toggleConnectionsDropdown(e){e.stopPropagation(),document.getElementById("connDropdown").classList.toggle("active")}function logout(){console.log("[Logout] Logging out user"),localStorage.clear(),window.location.replace("/")}async function loadConnections(){const e=localStorage.getItem("tapinx_user_name")||"User",t=localStorage.getItem("tapinx_user_photo"),n=e.charAt(0).toUpperCase();document.getElementById("connHeaderName").textContent=e,document.getElementById("connAvatarInitial").textContent=n,t&&(document.getElementById("connAvatarImg").src=t,document.getElementById("connAvatarImg").style.display="block",document.getElementById("connAvatarInitial").style.display="none");const o=document.getElementById("connRailInitial"),a=document.getElementById("connRailImg"),s=document.getElementById("connRailName");o&&(o.textContent=n),s&&(s.textContent=e),a&&t&&(a.src=t,a.style.display="block",o&&(o.style.display="none"));const i=document.getElementById("connList"),l=document.getElementById("emptyConnections"),c=document.getElementById("connSearchBar");i.innerHTML='<div style="text-align:center;padding:40px;color:var(--color-text-muted);">Loading...</div>',l&&(l.style.display="none");const{connections:r,count:d}=await fetchConnections();document.getElementById("connAllCount").textContent=d,document.getElementById("connPendingCount").textContent=0,document.getElementById("connConnectedCount").textContent=d;const u=document.getElementById("railConnCount");u&&(u.textContent=d),document.querySelectorAll(".workspace-tab").forEach(e=>{const t=e.querySelector(".workspace-tab-count");t&&parseInt(t.textContent);e.classList.remove("has-action")}),c&&(0===d?c.classList.add("subdued"):c.classList.remove("subdued")),0===d?(i.innerHTML="",i.style.display="none",l&&(l.style.display="block")):(l&&(l.style.display="none"),i.style.display="block",i.innerHTML=r.map(e=>renderConnectionRow(e)).join(""))}function renderConnectionRow(e){const t=e.name?e.name.charAt(0).toUpperCase():"?",n=formatTimeAgo(e.connected_at),o=e.role||e.title||"";return`\n                <div class="workspace-row" data-conn-status="connected" data-name="${e.name||"Unknown"}">\n                    <div class="workspace-row-avatar">${t}</div>\n                    <div class="workspace-row-content">\n                        <div class="workspace-row-name">${e.name||"Unknown"}</div>\n                        <div class="workspace-row-context">${o}</div>\n                        <div class="workspace-row-meta">Introduced by Taj ¬∑ ${n}</div>\n                    </div>\n                    <div class="workspace-row-actions">\n                        <button class="workspace-btn workspace-btn-primary" onclick="messageConnection(this, '${e.name}')">Message</button>\n                        ${e.linkedin_url?`<button class="workspace-btn workspace-btn-secondary" onclick="window.open('${e.linkedin_url}', '_blank')">View</button>`:""}\n                    </div>\n                </div>\n            `}document.addEventListener("click",function(e){const t=document.getElementById("skillsDropdown"),n=document.getElementById("skillsSearchInput");t&&n&&!t.contains(e.target)&&e.target!==n&&t.classList.remove("show")}),document.addEventListener("click",()=>{const e=document.getElementById("dashDropdown");e&&e.classList.remove("active");const t=document.getElementById("connDropdown");t&&t.classList.remove("active");const n=document.getElementById("attnDropdown");n&&n.classList.remove("active")});let currentConnStatus="all";function setConnStatus(e,t){document.querySelectorAll("#connectionsPage .workspace-tab").forEach(e=>e.classList.remove("active")),e.classList.add("active"),currentConnStatus=t;const n=document.getElementById("connList"),o=document.getElementById("emptyConnections"),a=document.querySelectorAll('.workspace-row[data-conn-status="connected"]').length;"all"===t||"connected"===t?a>0?(n.style.display="block",o&&(o.style.display="none")):(n.style.display="none",o&&(o.style.display="block")):"pending"===t&&(n.style.display="none",o&&(o.style.display="block"))}function setConnFilter(e,t){}function filterConnections(){const e=document.getElementById("connSearchInput").value.toLowerCase();document.querySelectorAll(".workspace-row").forEach(t=>{const n=t.dataset.name?t.dataset.name.toLowerCase():"",o=t.querySelector(".workspace-row-context"),a=o?o.textContent.toLowerCase():"";n.includes(e)||a.includes(e)?t.style.display="flex":t.style.display="none"})}function updateConnCounts(){const e=document.querySelectorAll('.workspace-row[data-conn-status="connected"]').length;document.getElementById("connAllCount").textContent=e,document.getElementById("connPendingCount").textContent=0,document.getElementById("connConnectedCount").textContent=e,document.getElementById("pendingBadge").textContent=pendingCount}function showConnToast(e){const t=document.getElementById("connToast");t.textContent=e,t.classList.add("show"),setTimeout(()=>t.classList.remove("show"),3e3)}function acceptConnection(e){const t=e.closest(".attention-card"),n=t.dataset.name;t.classList.add("accepting"),setTimeout(()=>{t.remove(),updateConnCounts(),showConnToast(`Intro accepted! Taj will connect you with ${n}`),checkConnEmptyState();const e=encodeURIComponent(`Hey Taj, I accepted the intro to ${n}. Please connect us!`);window.open(`https://t.me/TapinXBot?text=${e}`,"_blank")},300)}function declineConnection(e){const t=e.closest(".attention-card");t.dataset.name;t.classList.add("declining"),setTimeout(()=>{t.remove(),updateConnCounts(),showConnToast("Connection declined"),checkConnEmptyState()},300)}function replyToConnection(e,t){const n=encodeURIComponent(`Hey Taj, I'd like to reply to ${t}'s message: `);window.open(`https://t.me/TapinXBot?text=${n}`,"_blank")}function messageConnection(e,t){const n=encodeURIComponent(`Hey Taj, can you help me reach out to ${t}?`);window.open(`https://t.me/TapinXBot?text=${n}`,"_blank")}function checkConnEmptyState(){const e=document.querySelectorAll('.workspace-row[data-conn-status="connected"]').length,t=document.getElementById("connList"),n=document.getElementById("emptyConnections");0===e?(t&&(t.style.display="none"),n&&(n.style.display="block")):(t&&(t.style.display="block"),n&&(n.style.display="none"))}async function loadAttention(){const e=localStorage.getItem("tapinx_user_name")||"User",t=localStorage.getItem("tapinx_user_photo"),n=e.charAt(0).toUpperCase();document.getElementById("attnHeaderName").textContent=e,document.getElementById("attnAvatarInitial").textContent=n,t&&(document.getElementById("attnAvatarImg").src=t,document.getElementById("attnAvatarImg").style.display="block",document.getElementById("attnAvatarInitial").style.display="none");const o=document.getElementById("attnRailInitial"),a=document.getElementById("attnRailImg"),s=document.getElementById("attnRailName");o&&(o.textContent=n),s&&(s.textContent=e),a&&t&&(a.src=t,a.style.display="block",o&&(o.style.display="none"));const i=document.getElementById("attnList"),l=document.getElementById("emptyAttnActive");i&&(i.innerHTML='<div style="text-align:center;padding:40px;color:var(--color-text-muted);">Loading...</div>'),l&&(l.style.display="none");const{matches:c,count:r}=await fetchMatches(),d=document.getElementById("attnNeedsCount"),u=document.getElementById("attnInterestedCount"),m=document.getElementById("attnPassedCount");d&&(d.textContent=r),u&&(u.textContent="0"),m&&(m.textContent="0");const p=document.getElementById("attnRailAttnCount");p&&(p.textContent=r);const g=document.getElementById("attnTabNeeds");g&&(r>0?g.classList.add("has-action"):g.classList.remove("has-action")),0===r?(i&&(i.innerHTML=""),i&&(i.style.display="none"),l&&(l.style.display="block")):(l&&(l.style.display="none"),i&&(i.style.display="block",i.innerHTML=c.map(e=>renderAttnRow(e)).join("")))}function renderAttnRow(e){const t=e.other_name?e.other_name.charAt(0).toUpperCase():"T",n=formatTimeAgo(e.created_at);return`\n                <div class="workspace-row" data-status="active" data-id="${e.id}">\n                    <div class="workspace-row-avatar">${t}</div>\n                    <div class="workspace-row-content">\n                        <div class="workspace-row-name">${e.other_name||"New Connection"}</div>\n                        <div class="workspace-row-context">${e.intro_message||"Taj wants to introduce you"}</div>\n                        <div class="workspace-row-meta">Introduced by Taj ¬∑ ${n}</div>\n                    </div>\n                    <div class="workspace-row-actions">\n                        <button class="workspace-btn workspace-btn-primary" onclick="markInterestedNew(this)">Interested</button>\n                        <button class="workspace-btn workspace-btn-secondary" onclick="markPassedNew(this)">Pass</button>\n                    </div>\n                </div>\n            `}function setAttnStatusNew(e,t){document.querySelectorAll("#attentionPage .workspace-tab").forEach(e=>e.classList.remove("active")),e.classList.add("active");document.getElementById("attnList");const n=document.getElementById("emptyAttnActive"),o=document.getElementById("emptyAttnInterested"),a=document.getElementById("emptyAttnPassed");if(n&&(n.style.display="none"),o&&(o.style.display="none"),a&&(a.style.display="none"),"active"===t){0===document.querySelectorAll('.workspace-row[data-status="active"]').length&&n&&(n.style.display="block")}else"interested"===t?o&&(o.style.display="block"):"passed"===t&&a&&(a.style.display="block")}function markInterestedNew(e){const t=e.closest(".workspace-row");t.style.opacity="0.5",setTimeout(()=>{t.remove(),showWorkspaceToast("Marked as interested"),updateAttnCounts()},200)}function markPassedNew(e){const t=e.closest(".workspace-row");t.style.opacity="0.5",setTimeout(()=>{t.remove(),showWorkspaceToast("Passed"),updateAttnCounts()},200)}function updateAttnCounts(){const e=document.querySelectorAll('#attnList .workspace-row[data-status="active"]').length,t=document.getElementById("attnNeedsCount");t&&(t.textContent=e);const n=document.getElementById("attnRailAttnCount");if(n&&(n.textContent=e),0===e){const e=document.getElementById("emptyAttnActive");e&&(e.style.display="block")}}function showWorkspaceToast(e){const t=document.getElementById("attnToast")||document.getElementById("connToast");t&&(t.textContent=e,t.classList.add("show"),setTimeout(()=>t.classList.remove("show"),2500))}function renderProposalCard(e){return renderAttnRow(e)}function formatTimeAgo(e){if(!e)return"recently";const t=new Date(e),n=new Date-t,o=Math.floor(n/6e4),a=Math.floor(n/36e5),s=Math.floor(n/864e5);return o<60?o+" mins ago":a<24?a+" hours ago":s<7?s+" days ago":Math.floor(s/7)+" weeks ago"}function toggleAttentionDropdown(e){e.stopPropagation(),document.getElementById("attnDropdown").classList.toggle("active")}document.addEventListener("keydown",function(e){if((e.metaKey||e.ctrlKey)&&"k"===e.key){e.preventDefault();const t=document.getElementById("connSearchInput");t&&t.focus()}});let currentAttnStatus="active";function setAttnStatus(e,t){document.querySelectorAll(".attn-status-tab").forEach(e=>e.classList.remove("active")),e.classList.add("active"),currentAttnStatus=t;const n=document.querySelectorAll(".proposal-card");let o=0;n.forEach(e=>{e.dataset.status===t?(e.style.display="block",o++):e.style.display="none"}),document.getElementById("emptyActive").style.display="active"===t&&0===o?"block":"none",document.getElementById("emptyInterested").style.display="interested"===t&&0===o?"block":"none",document.getElementById("emptyPassed").style.display="passed"===t&&0===o?"block":"none",document.getElementById("attnProposals").style.display=o>0?"block":"none",document.querySelector(".attn-filter-tabs").style.display="active"===t?"flex":"none"}function setAttnFilter(e,t){document.querySelectorAll(".attn-tab").forEach(e=>e.classList.remove("active")),e.classList.add("active");document.querySelectorAll(".proposal-card").forEach(e=>{const n="all"===t||e.dataset.type===t,o=e.dataset.status===currentAttnStatus;e.style.display=n&&o?"block":"none"})}function updateCounts(){let e=0,t=0,n=0;document.querySelectorAll(".proposal-card").forEach(o=>{"active"===o.dataset.status?e++:"interested"===o.dataset.status?t++:"passed"===o.dataset.status&&n++}),document.getElementById("activeCount").textContent=e,document.getElementById("interestedCount").textContent=t,document.getElementById("passedCount").textContent=n}function showAttnToast(e){const t=document.getElementById("attnToast");t.textContent=e,t.classList.add("show"),setTimeout(()=>t.classList.remove("show"),3e3)}function markInterested(e){const t=e.closest(".proposal-card"),n=t.querySelector(".proposal-title").textContent;t.classList.add("interested"),setTimeout(()=>{t.dataset.status="interested",t.classList.remove("interested");t.querySelector(".proposal-actions").innerHTML=`\n                    <div class="proposal-status">\n                        <span class="proposal-status-text interested">Taj will connect you soon</span>\n                        <button class="proposal-status-btn message" onclick="window.open('https://t.me/TapinXBot?text=Hey Taj, following up on: ${encodeURIComponent(n)}', '_blank')">Message Taj</button>\n                    </div>\n                `,"interested"!==currentAttnStatus&&(t.style.display="none"),updateCounts(),showAttnToast("Nice! Taj will connect you shortly"),checkEmptyState()},300)}function markPassed(e){const t=e.closest(".proposal-card");t.querySelector(".proposal-title").textContent;t.classList.add("removing"),setTimeout(()=>{t.dataset.status="passed",t.classList.remove("removing");t.querySelector(".proposal-actions").innerHTML='\n                    <div class="proposal-status">\n                        <span class="proposal-status-text passed">Passed on this opportunity</span>\n                        <button class="proposal-status-btn restore" onclick="restoreCard(this)">Restore</button>\n                    </div>\n                ',"passed"!==currentAttnStatus&&(t.style.display="none"),updateCounts(),showAttnToast("Removed from your list"),checkEmptyState()},300)}function restoreCard(e){const t=e.closest(".proposal-card"),n=t.querySelector(".proposal-title").textContent;t.dataset.status="active";t.querySelector(".proposal-actions").innerHTML=`\n                <button class="proposal-btn primary" onclick="markInterested(this)">I'm Interested</button>\n                <button class="proposal-btn secondary" onclick="markPassed(this)">Not for me</button>\n                <button class="proposal-btn tertiary" onclick="askTajMore(this, '${n}')">Ask Taj more</button>\n            `,"active"!==currentAttnStatus&&(t.style.display="none"),updateCounts(),showAttnToast("Restored to your list"),checkEmptyState()}function askTajMore(e,t){const n=encodeURIComponent(`Hey Taj, can you tell me more about: ${t}`);window.open(`https://t.me/TapinXBot?text=${n}`,"_blank")}function checkEmptyState(){document.querySelectorAll(".proposal-card").forEach(e=>{e.dataset.status===currentAttnStatus&&"none"!==e.style.display&&0});let e=0;document.querySelectorAll(".proposal-card").forEach(t=>{t.dataset.status===currentAttnStatus&&e++}),document.getElementById("emptyActive").style.display="active"===currentAttnStatus&&0===e?"block":"none",document.getElementById("emptyInterested").style.display="interested"===currentAttnStatus&&0===e?"block":"none",document.getElementById("emptyPassed").style.display="passed"===currentAttnStatus&&0===e?"block":"none",document.getElementById("attnProposals").style.display=e>0?"block":"none"}!function(){const e=document.querySelectorAll(".rotating-word .word");let t=0;setInterval(()=>{e[t].classList.remove("active"),t=(t+1)%e.length,e[t].classList.add("active")},3e3)}();let currentNewAppPage="opportunities";function toggleMobileMenu(){const e=document.getElementById("mobileSidebar"),t=document.getElementById("mobileOverlay");e.classList.toggle("mobile-open"),t.classList.toggle("active")}function closeMobileMenu(){const e=document.getElementById("mobileSidebar"),t=document.getElementById("mobileOverlay");e&&e.classList.remove("mobile-open"),t&&t.classList.remove("active")}function updateMobileHeader(e){const t=document.getElementById("mobileHeaderTitle");t&&(t.textContent=e)}function showNewAppPage(e){Router.navigate(e)}function handleLogoClick(){const e=localStorage.getItem("tapinx_user_id"),t=localStorage.getItem("tapinx_user_phone");e||t?Router.navigate("opportunities"):window.location.href="/"}async function loadNewConnections(){try{console.log("[TapinX] Loading connections...");const{connections:e,count:t}=await fetchConnections(),n=document.getElementById("newConnectionsList"),o=document.getElementById("newConnectionsEmpty");if(!n||!o)return void console.error("[TapinX] Connections page DOM elements not found");console.log("[TapinX] Connections loaded:",t,"connections"),0!==t&&e&&0!==e.length?(o.style.display="none",n.innerHTML=e.map(e=>`\n                    <div class="new-feed-item" data-status="${e.status||"connected"}" onclick='openConnectionModal(${JSON.stringify(e).replace(/'/g,"&#39;")})' style="cursor: pointer;">\n                        <div class="new-feed-avatar">${(e.name||"U").charAt(0).toUpperCase()}</div>\n                        <div class="new-feed-content">\n                            <div class="new-feed-header">\n                                <span class="new-feed-name">${e.name||"Unknown"}</span>\n                                <span class="new-feed-status ${e.status||"connected"}">${(e.status||"Connected").charAt(0).toUpperCase()+(e.status||"connected").slice(1)}</span>\n                            </div>\n                            <div class="new-feed-context">${e.ask_title||e.role||e.title||"Introduction from Taj"}</div>\n                            <div class="new-feed-time">${formatNewDate(e.connected_at)}</div>\n                        </div>\n                    </div>\n                `).join(""),console.log("[TapinX] Connections rendered successfully")):(n.innerHTML="",o.style.display="block",console.log("[TapinX] No connections found, showing empty state"))}catch(e){console.error("[TapinX] Error in loadNewConnections:",e);const t=document.getElementById("newConnectionsList"),n=document.getElementById("newConnectionsEmpty");t&&(t.innerHTML=""),n&&(n.style.display="block")}}let currentConnectionData=null;function openConnectionModal(e){currentConnectionData=e,document.getElementById("connModalAvatar").textContent=(e.name||"U").charAt(0).toUpperCase(),document.getElementById("connModalName").textContent=e.name||"Unknown";const t="connected"===e.status,n=document.getElementById("connModalStatus");n.textContent=t?"Connected":"Pending",n.className="connection-modal-status "+(t?"connected":"pending"),document.getElementById("connModalContextText").textContent=e.ask_title||"Introduction from Taj";const o=document.getElementById("connModalBio");e.bio?(o.style.display="block",document.getElementById("connModalBioText").textContent=e.bio):o.style.display="none";const a=document.getElementById("connModalSkills");e.skills&&e.skills.length>0?(a.style.display="block",document.getElementById("connModalSkillsList").innerHTML=e.skills.map(e=>'<span class="connection-modal-skill">'+e+"</span>").join("")):a.style.display="none";const s=document.getElementById("connModalMessage"),i=document.getElementById("connModalFooter");t?(s.className="connection-modal-message success",s.innerHTML='<div class="connection-modal-message-icon">üéâ</div><div class="connection-modal-message-title">You\'re connected!</div><div class="connection-modal-message-text">Taj has introduced you both via Telegram. Check your messages to start the conversation!</div>',i.innerHTML='<button class="connection-modal-btn primary" onclick="window.open(\'https://t.me/TapinXBot\', \'_blank\'); closeConnectionModal();">Open Telegram</button><button class="connection-modal-btn secondary" onclick="closeConnectionModal()">Close</button>'):(s.className="connection-modal-message waiting",s.innerHTML='<div class="connection-modal-message-icon">‚è≥</div><div class="connection-modal-message-title">Waiting for response</div><div class="connection-modal-message-text">'+(e.name||"They")+" hasn't responded yet. We'll notify you via Telegram as soon as they accept!</div>",i.innerHTML='<button class="connection-modal-btn secondary" onclick="closeConnectionModal()">Got it</button>'),document.getElementById("connectionModal").classList.add("show")}function closeConnectionModal(e){e&&e.target!==e.currentTarget||document.getElementById("connectionModal").classList.remove("show")}let currentRequestData=null;function openRequestModal(e){currentRequestData=e;document.getElementById("requestModalTitle").textContent=e.title||e.description||"Request";const t=e.status||"active";document.getElementById("requestModalStatus").textContent={active:"In progress",waiting:"Waiting",matched:"Matched",completed:"Completed"}[t]||"Active";const n=e.intent||e.category||"professional";document.getElementById("requestModalCategory").textContent={professional:"Professional",community:"Community",personal:"Personal"}[n]||"Professional";let o="Just now";if(e.created_at)try{o=formatNewDate(e.created_at)}catch(t){try{o=formatRequestTime?formatRequestTime(e.created_at):new Date(e.created_at).toLocaleDateString()}catch(t){o=e.created_at}}document.getElementById("requestModalDate").textContent=o;const a=document.getElementById("requestModalSkills");e.skills_needed&&e.skills_needed.length>0?a.innerHTML=e.skills_needed.map(e=>'<span class="request-modal-skill">'+e+"</span>").join(""):a.innerHTML='<span class="request-modal-value">Not specified</span>';const s=document.getElementById("requestModalMatchSection");e.match_name?(s.style.display="block",document.getElementById("requestModalMatch").textContent=e.match_name):s.style.display="none",document.getElementById("requestModal").classList.add("show")}function closeRequestModal(e){e&&e.target!==e.currentTarget||(document.getElementById("requestModal").classList.remove("show"),currentRequestData=null)}function followUpRequestFromModal(){const e=currentRequestData&&(currentRequestData.title||currentRequestData.description)||"request";window.open("https://t.me/TapinXBot?text="+encodeURIComponent("What's the update on my "+e+" request I had asked you about?"),"_blank"),closeRequestModal()}function setNewConnectionsTab(e,t){document.querySelectorAll("#newConnectionsPage .new-tab").forEach(e=>e.classList.remove("active")),e.classList.add("active"),filterNewConnections(t,!0)}function filterNewConnections(e,t=!1){document.querySelectorAll("#newConnectionsList .new-feed-item").forEach(t=>{const n=t.dataset.status;t.style.display="all"===e||n===e?"flex":"none"}),document.querySelectorAll("#connectionsExpand .new-sidebar-sublink").forEach(e=>e.classList.remove("active"));const n=document.querySelectorAll("#connectionsExpand .new-sidebar-sublink");if("all"===e&&n[0]&&n[0].classList.add("active"),"connected"===e&&n[1]&&n[1].classList.add("active"),"pending"===e&&n[2]&&n[2].classList.add("active"),!t){const t=document.querySelectorAll("#newConnectionsPage .new-tab");t.forEach(e=>e.classList.remove("active")),"all"===e&&t[0]&&t[0].classList.add("active"),"connected"===e&&t[1]&&t[1].classList.add("active"),"pending"===e&&t[2]&&t[2].classList.add("active")}}async function loadNewOpportunities(e="all"){console.log("[Opportunities] Loading with filter:",e);const t=document.getElementById("newOpportunitiesList"),n=document.getElementById("newOpportunitiesEmpty");n&&(n.style.display="none"),t&&(t.innerHTML='<div style="text-align:center;padding:20px;color:var(--color-text-secondary);">Loading...</div>');const{matches:o,count:a}=await fetchMatches(),s=document.getElementById("opportunitiesBadge");a>0?(s.textContent=a,s.style.display="inline"):s.style.display="none";let i=o||[];if("professional"===e?i=o.filter(e=>"professional"===(e.match_type||"")||"professional"===e.category):"community"===e&&(i=o.filter(e=>"community"===(e.match_type||"")||"community"===e.category)),0===i.length)t&&(t.innerHTML=""),n&&(n.style.display="flex",n.innerHTML='\n                        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="#ccc" stroke-width="1">\n                            <path d="M12 2L2 7l10 5 10-5-10-5z"/>\n                            <path d="M2 17l10 5 10-5"/>\n                            <path d="M2 12l10 5 10-5"/>\n                        </svg>\n                        <h3 class="new-empty-title">You\'re all caught up</h3>\n                        <p class="new-empty-text">Taj will surface opportunities aligned with your intent. Check back soon or update your preferences in Settings.</p>\n                    ');else{n.style.display="none";const e=["professional","community"],o={professional:"Professional match",community:"Community-relevant"};t.innerHTML=i.map(t=>{const n=t.match_type||e[Math.floor(Math.random()*e.length)],a=JSON.stringify(t).replace(/"/g,"&quot;");return`\n                    <div class="new-feed-item" data-id="${t.id}" data-type="${n}" data-opportunity='${a}' onclick="handleOppCardClick(this)" style="cursor: pointer;">\n                        <div class="new-feed-avatar">${(t.other_name||"T").charAt(0).toUpperCase()}</div>\n                        <div class="new-feed-content">\n                            <div class="new-feed-header">\n                                <span class="new-feed-name">${t.other_name||"New opportunity"}</span>\n                                <span class="new-match-type ${n}">${o[n]}</span>\n                            </div>\n                            <div class="new-feed-text">Taj wants to introduce you to ${t.other_name||"someone"}${t.intro_reason?" for "+t.intro_reason:""}</div>\n                            <div class="new-feed-time">${formatNewTimeAgo(t.created_at)}</div>\n                            <div class="new-feed-actions" onclick="event.stopPropagation()">\n                                <button class="new-feed-btn primary" onclick="acceptNewOpportunity('${t.id}')">Approve</button>\n                                <button class="new-feed-btn secondary" onclick="declineNewOpportunity('${t.id}')">Decline</button>\n                                <button class="opportunity-refer-btn" onclick="event.stopPropagation(); handleOppReferClick(this)">Refer a Friend</button>\n                            </div>\n                        </div>\n                    </div>\n                `}).join("")}}function filterNewOpportunities(e,t){if(console.log("[Filter] Switching to:",e),document.querySelectorAll("#newOpportunitiesPage .new-tab").forEach(e=>e.classList.remove("active")),t)t.classList.add("active");else{const t=document.querySelector(`#newOpportunitiesPage .new-tab[onclick*="${e}"]`);t&&t.classList.add("active")}"archive"===e?loadArchivedOpportunities():loadNewOpportunities(e),updateOpportunitiesSidebarSublinks(e)}function filterOpportunitiesFromSidebar(e){if("archive"===e){loadArchivedOpportunities();const e=document.querySelectorAll("#newOpportunitiesPage .new-tab");return e.forEach(e=>e.classList.remove("active")),void(e[3]&&e[3].classList.add("active"))}filterOpportunitiesItems(e),updateOpportunitiesSidebarSublinks(e);const t=document.querySelectorAll("#newOpportunitiesPage .new-tab");t.forEach(e=>e.classList.remove("active")),"all"===e&&t[0]&&t[0].classList.add("active"),"professional"===e&&t[1]&&t[1].classList.add("active"),"community"===e&&t[2]&&t[2].classList.add("active"),"archive"===e&&t[3]&&t[3].classList.add("active")}function filterOpportunitiesItems(e){document.querySelectorAll("#newOpportunitiesList .new-feed-item").forEach(t=>{const n=t.dataset.type;t.style.display="all"===e?"flex":"saved"===e?"true"===t.dataset.saved?"flex":"none":n===e?"flex":"none"})}function updateOpportunitiesSidebarSublinks(e){document.querySelectorAll("#opportunitiesExpand .new-sidebar-sublink").forEach(e=>e.classList.remove("active"));const t=document.querySelectorAll("#opportunitiesExpand .new-sidebar-sublink");"all"===e&&t[0]&&t[0].classList.add("active"),"professional"===e&&t[1]&&t[1].classList.add("active"),"community"===e&&t[2]&&t[2].classList.add("active"),"saved"===e&&t[3]&&t[3].classList.add("active")}async function acceptNewOpportunity(e){await respondToMatch(e,"accept"),showNewToast("Introduction accepted!"),loadNewOpportunities()}async function declineNewOpportunity(e){await respondToMatch(e,"decline"),showNewToast("Passed"),loadNewOpportunities()}async function loadArchivedOpportunities(){const e=document.getElementById("newOpportunitiesList"),t=document.getElementById("newOpportunitiesEmpty");t&&(t.style.display="none"),e&&(e.innerHTML='<div style="text-align:center;padding:20px;color:var(--color-text-secondary);">Loading...</div>');const n=localStorage.getItem("tapinx_user_id");if(n)try{const e=await fetch(API_URL+"/opportunities/"+n+"/archive"),t=await e.json();t.success?renderArchivedOpportunities(t.opportunities||[]):renderArchivedOpportunities([])}catch(e){console.error("Error loading archive:",e),renderArchivedOpportunities([])}}function renderArchivedOpportunities(e){const t=document.getElementById("newOpportunitiesList"),n=document.getElementById("newOpportunitiesEmpty");if(!e||0===e.length)return t&&(t.innerHTML=""),void(n&&(n.style.display="flex",n.innerHTML='\n                        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="#ccc" stroke-width="1">\n                            <path d="M21 8v13H3V8M1 3h22v5H1zM10 12h4"/>\n                        </svg>\n                        <h3 class="new-empty-title">Archive is empty</h3>\n                        <p class="new-empty-text">Opportunities you decline or refer will appear here.</p>\n                    '));n&&(n.style.display="none"),t.innerHTML=e.map(e=>{const t="declined"===e.status?"Declined":"Referred",n="declined"===e.status?"declined":"referred",o="declined"===e.status?"You passed on this opportunity":"You referred this to a friend",a=(e.requester_name||e.other_name||"S").charAt(0).toUpperCase(),s=escapeHtml(e.ask_title||e.title||"Opportunity");return`\n                    <div class="new-feed-item archived">\n                        <div class="new-feed-avatar" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; display: flex; align-items: center; justify-content: center; font-weight: 600;">${a}</div>\n                        <div class="new-feed-content" style="flex: 1;">\n                            <div class="new-feed-header" style="display: flex; align-items: center; gap: 8px; margin-bottom: 4px;">\n                                <span class="new-feed-name" style="font-weight: 600;">${escapeHtml(e.requester_name||e.other_name||"Someone")}</span>\n                                <span class="archive-badge ${n}">${t}</span>\n                            </div>\n                            <div class="new-feed-text" style="font-size: 15px; color: #333; margin-bottom: 4px;">${s}</div>\n                            <div class="new-feed-meta" style="font-size: 13px; color: #666;">${o}</div>\n                            <div class="archive-actions" style="margin-top: 12px; display: flex; gap: 8px;">\n                                ${"referred"===e.status?`<button class="archive-btn" onclick="referAgain(${e.id}, ${e.ask_id}, '${s.replace(/'/g,"\\'")}')">Refer Again</button>`:""}\n                                <button class="archive-btn" onclick="restoreOpportunity(${e.id})">Restore</button>\n                            </div>\n                        </div>\n                    </div>\n                `}).join("")}let currentOppData=null;function escapeHtml(e){if(!e)return"";const t=document.createElement("div");return t.textContent=e,t.innerHTML}function handleOppCardClick(e){const t=e.getAttribute("data-opportunity");if(t)try{openOppDetailModal(JSON.parse(t.replace(/&quot;/g,'"')))}catch(e){console.error("[Modal] Error parsing opportunity data:",e)}}function handleOppReferClick(e){const t=e.closest(".new-feed-item"),n=t?t.getAttribute("data-opportunity"):null;if(n)try{openReferFromCard(JSON.parse(n.replace(/&quot;/g,'"')))}catch(e){console.error("[Modal] Error parsing opportunity data:",e)}}function openOppDetailModal(e){if(console.log("[Modal] Opening detail modal for:",e),!e)return void console.error("[Modal] No opportunity data provided");currentOppData=e;const t=e.requester_name||e.other_name||"Someone",n=document.getElementById("oppDetailAvatar"),o=document.getElementById("oppDetailName"),a=document.getElementById("oppDetailBio");n&&(n.textContent=t.charAt(0).toUpperCase()),o&&(o.textContent=t),a&&(a.textContent=e.requester_bio||"TapinX member");const s=document.getElementById("oppDetailTitle"),i=document.getElementById("oppDetailDesc"),l=e.ask_title||e.title||"Connection Request";s&&(s.textContent=l);const c=e.ask_text||e.description||"";i&&(i.textContent=c||"No description provided.");const r=document.getElementById("oppDetailSkills"),d=document.getElementById("oppDetailSkillsSection");r&&d&&(e.skills_needed&&e.skills_needed.length>0?(d.style.display="block",r.innerHTML=e.skills_needed.map(e=>'<span class="opp-detail-skill">'+escapeHtml(e)+"</span>").join("")):d.style.display="none");const u=document.getElementById("oppDetailScore");if(u){const t=e.match_score||0;u.textContent=Math.round(t)+"% match"}const m=document.getElementById("oppDetailModal");m?(m.classList.add("show"),console.log("[Modal] Modal shown successfully")):console.error("[Modal] Modal element not found - check HTML")}function closeOppDetailModal(e){e&&e.target!==e.currentTarget||document.getElementById("oppDetailModal").classList.remove("show")}function handleOppInterested(){currentOppData&&(closeOppDetailModal(),acceptNewOpportunity(currentOppData.id))}function handleOppDecline(){currentOppData&&(document.getElementById("declineConfirmOppTitle").textContent=currentOppData.ask_title||currentOppData.title||"this opportunity",document.getElementById("declineConfirmModal").classList.add("show"))}function handleOppRefer(){if(!currentOppData)return;closeOppDetailModal();const e=currentOppData.requester_name||currentOppData.other_name||"Someone",t=currentOppData.ask_title||currentOppData.title||"Opportunity",n=document.getElementById("sharePreviewAvatar"),o=document.getElementById("sharePreviewName"),a=document.getElementById("sharePreviewTitle");n&&(n.textContent=e.charAt(0).toUpperCase()),o&&(o.textContent=e),a&&(a.textContent=t);const s=document.getElementById("shareModal");s&&s.classList.add("show")}function openReferFromCard(e){console.log("[Modal] Opening refer modal from card for:",e),currentOppData=e;const t=e.requester_name||e.other_name||"Someone",n=e.ask_title||e.title||"Opportunity",o=document.getElementById("sharePreviewAvatar"),a=document.getElementById("sharePreviewName"),s=document.getElementById("sharePreviewTitle");o&&(o.textContent=t.charAt(0).toUpperCase()),a&&(a.textContent=t),s&&(s.textContent=n);const i=document.getElementById("shareModal");i&&i.classList.add("show")}function closeDeclineConfirmModal(e){e&&e.target!==e.currentTarget||document.getElementById("declineConfirmModal").classList.remove("show")}function confirmDecline(){currentOppData&&(closeDeclineConfirmModal(),closeOppDetailModal(),declineNewOpportunity(currentOppData.id))}function closeShareModal(e){if(e&&e.target!==e.currentTarget)return;const t=document.getElementById("shareModal");t&&t.classList.remove("show")}function getReferralData(){const e=localStorage.getItem("tapinx_user_id"),t=currentOppData.ask_id||currentOppData.id,n=currentOppData.intro_reason||currentOppData.ask_title||currentOppData.title||"an opportunity",o="https://tapinx.com?ref="+e+"&opp="+t;return{referralLink:o,message:'Hey! I found an opportunity on TapinX that might be perfect for you: "'+n+'" from '+(currentOppData.other_name||currentOppData.requester_name||"someone")+". Check it out: "+o,title:n}}async function markAsReferred(){if(!currentOppData)return;const e=currentOppData.id,t=localStorage.getItem("tapinx_user_id");try{await fetch(API_URL+"/matches/"+e+"/respond",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({response:"referred",user_id:t})})}catch(e){console.error("Error marking as referred:",e)}loadNewOpportunities()}function shareViaCopyLink(){const{referralLink:e,message:t}=getReferralData();navigator.clipboard.writeText(t).then(()=>{alert("Link copied to clipboard!"),closeShareModal(),markAsReferred()}).catch(e=>{console.error("Failed to copy:",e),prompt("Copy this link:",t),closeShareModal(),markAsReferred()})}function shareViaMessages(){const{message:e}=getReferralData();window.location.href="sms:?body="+encodeURIComponent(e),closeShareModal(),markAsReferred()}function shareViaTelegram(){const{referralLink:e,message:t,title:n}=getReferralData(),o="https://t.me/share/url?url="+encodeURIComponent(e)+"&text="+encodeURIComponent('Check out this opportunity on TapinX: "'+n+'"');window.open(o,"_blank"),closeShareModal(),markAsReferred()}async function referAgain(e,t,n){const o='Hey! I found an opportunity on TapinX that might be perfect for you: "'+n+'". Check it out: '+("https://tapinx.com?ref="+localStorage.getItem("tapinx_user_id")+"&opp="+t);/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?window.location.href="sms:?body="+encodeURIComponent(o):navigator.share?navigator.share({title:"TapinX Opportunity",text:o}).catch(console.error):navigator.clipboard.writeText(o).then(()=>{alert("Message copied! Share it with your friend.")})}async function restoreOpportunity(e){const t=localStorage.getItem("tapinx_user_id");try{const n=await fetch(API_URL+"/matches/"+e+"/restore",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t})});(await n.json()).success?(loadArchivedOpportunities(),alert("Opportunity restored! Check your Opportunities.")):alert("Could not restore opportunity. Please try again.")}catch(e){console.error("Error restoring opportunity:",e),alert("Error restoring opportunity.")}}async function referOpportunity(e){const t=e.id,n=e.ask_title||e.title||e.other_name||"an opportunity",o=e.ask_id,a=localStorage.getItem("tapinx_user_id");try{await fetch(API_URL+"/matches/"+t+"/respond",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({response:"referred",user_id:a})})}catch(e){console.error("Error updating match status:",e)}const s="https://tapinx.com?ref="+a+"&opp="+o,i='Hey! I found an opportunity on TapinX that might be perfect for you: "'+n+'". Check it out: '+s;/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?window.location.href="sms:?body="+encodeURIComponent(i):navigator.share?navigator.share({title:"TapinX Opportunity",text:i}).catch(console.error):navigator.clipboard.writeText(i).then(()=>{alert("Message copied! Share it with your friend.")}).catch(()=>{window.open(s,"_blank")}),loadNewOpportunities()}function inviteFriend(){navigator.share?navigator.share({title:"Join TapinX",text:"Hey! I've been using TapinX to make professional connections. You should check it out - just text the bot and tell Taj who you want to meet: https://t.me/TapinXBot",url:"https://t.me/TapinXBot"}).catch(console.error):window.open("https://t.me/share/url?url="+encodeURIComponent("https://t.me/TapinXBot")+"&text="+encodeURIComponent("Check out TapinX - text Taj who you want to meet and get introduced!"),"_blank")}function submitNewReferral(){const e=document.getElementById("newReferralName").value,t=document.getElementById("newReferralContact").value;e&&t&&(showNewToast("Referral sent!"),document.getElementById("newReferralName").value="",document.getElementById("newReferralContact").value="",document.getElementById("newReferralContext").value="")}async function loadNewRequests(){const e=document.getElementById("newRequestsList"),t=document.getElementById("newRequestsEmpty");let n=[];try{const e=localStorage.getItem("tapinx_user_phone");if(e){const t=e.replace(/\s/g,"").replace(/[()-]/g,""),o="https://tapinx-backend-production.up.railway.app",a=await fetch(`${o}/api/requests/${encodeURIComponent(t)}`);if(a.ok){const e=await a.json();e.success&&(n=e.requests||[])}}}catch(e){console.log("[TapinX] Could not fetch requests:",e.message)}0===n.length&&(n=JSON.parse(localStorage.getItem("tapinx_requests")||"[]"));const o=n.filter(e=>"active"===e.status||"matched"===e.status).length,a=document.getElementById("requestsBadge");if(o>0?(a.textContent=o,a.style.display="inline"):a.style.display="none",0===n.length)e.innerHTML="",t.style.display="block";else{t.style.display="none";const o={active:"In progress",waiting:"Waiting",matched:"Matched",completed:"Completed"},a={professional:"Professional",community:"Community",personal:"Personal"};e.innerHTML=n.map(e=>{const t=e.status||"active",n=e.intent||"professional",s=e.created_at?formatRequestTime(e.created_at):"Just now";let i="";return"active"===t||"waiting"===t?i=`\n                            <button class="new-request-action" onclick="event.stopPropagation(); openRequestModal(${JSON.stringify(e).replace(/"/g,"&quot;")})">View details</button>\n                            <button class="new-request-action" onclick="event.stopPropagation(); followUpRequest('${e.id}')">Follow up</button>\n                        `:"matched"===t?i=`\n                            <button class="new-request-action" onclick="event.stopPropagation(); openRequestModal(${JSON.stringify(e).replace(/"/g,"&quot;")})">View details</button>\n                        `:"completed"===t&&(i=`\n                            <button class="new-request-action" onclick="event.stopPropagation(); openRequestModal(${JSON.stringify(e).replace(/"/g,"&quot;")})">View details</button>\n                            <button class="new-request-action" onclick="event.stopPropagation(); archiveRequest('${e.id}')">Archive</button>\n                        `),`\n                    <div class="new-feed-item new-request-row" data-id="${e.id}" data-status="${t}" onclick='openRequestModal(${JSON.stringify(e).replace(/"/g,"&quot;")})' style="cursor: pointer;">\n                        <div class="new-request-content">\n                            <div class="new-request-header">\n                                <span class="new-request-title">${e.title||e.description||"Introduction request"}</span>\n                                <div class="new-request-badges">\n                                    <span class="new-request-intent">${a[n]||"Professional"}</span>\n                                    <span class="new-request-status ${t}">${o[t]||"In progress"}</span>\n                                </div>\n                            </div>\n                            <div class="new-request-meta">\n                                <span class="new-request-time">Requested ${s}</span>\n                            </div>\n                        </div>\n                        <div class="new-request-actions">\n                            ${i}\n                        </div>\n                    </div>\n                `}).join("")}}function formatRequestTime(e){if(!e)return"Just now";const t=new Date,n=new Date(e),o=t-n,a=Math.floor(o/6e4),s=Math.floor(o/36e5),i=Math.floor(o/864e5);return a<60?`${a} minute${1!==a?"s":""} ago`:s<24?`${s} hour${1!==s?"s":""} ago`:1===i?"yesterday":i<7?`${i} days ago`:n.toLocaleDateString("en-US",{month:"short",day:"numeric"})}function filterRequests(e,t){t&&(document.querySelectorAll("#newRequestsPage .new-tab").forEach(e=>e.classList.remove("active")),t.classList.add("active")),filterRequestsItems(e),updateRequestsSidebarSublinks(e)}function filterRequestsFromSidebar(e){filterRequestsItems(e),updateRequestsSidebarSublinks(e);const t=document.querySelectorAll("#newRequestsPage .new-tab");t.forEach(e=>e.classList.remove("active")),"all"===e&&t[0]&&t[0].classList.add("active"),"active"===e&&t[1]&&t[1].classList.add("active"),"matched"===e&&t[2]&&t[2].classList.add("active"),"completed"===e&&t[3]&&t[3].classList.add("active")}function filterRequestsItems(e){document.querySelectorAll("#newRequestsList .new-feed-item").forEach(t=>{const n=t.dataset.status;t.style.display="all"===e||n===e?"flex":"none"})}function updateRequestsSidebarSublinks(e){document.querySelectorAll("#requestsExpand .new-sidebar-sublink").forEach(e=>e.classList.remove("active"));const t=document.querySelectorAll("#requestsExpand .new-sidebar-sublink");"all"===e&&t[0]&&t[0].classList.add("active"),"active"===e&&t[1]&&t[1].classList.add("active"),"matched"===e&&t[2]&&t[2].classList.add("active"),"completed"===e&&t[3]&&t[3].classList.add("active")}function viewRequestDetails(e){showNewToast("Opening request details...")}function followUpRequest(e){window.open("https://t.me/TapinXBot","_blank"),showNewToast("Following up with Taj...")}function archiveRequest(e){let t=JSON.parse(localStorage.getItem("tapinx_requests")||"[]");t=t.filter(t=>t.id!==e),localStorage.setItem("tapinx_requests",JSON.stringify(t)),loadNewRequests(),showNewToast("Request archived")}function cancelRequest(e){let t=JSON.parse(localStorage.getItem("tapinx_requests")||"[]");t=t.map(t=>(t.id===e&&(t.status="cancelled"),t)),localStorage.setItem("tapinx_requests",JSON.stringify(t)),loadNewRequests(),showNewToast("Request cancelled")}function showBlockedContacts(){showNewToast("No blocked contacts")}function confirmDeleteAccount(){confirm("Are you sure you want to delete your account? This action cannot be undone.")&&(localStorage.clear(),showNewToast("Account deleted"),setTimeout(()=>{showPage("landing")},1500))}let tasks=[];function initTasks(){const e=localStorage.getItem("tapinx_tasks");e&&(tasks=JSON.parse(e)),generateSystemTasks(),renderTasks()}function generateSystemTasks(){tasks=tasks.filter(e=>"system"!==e.type);localStorage.getItem("tapinx_user_instagram")||tasks.unshift({id:"sys_profile",title:"Complete your profile",meta:"Help Taj make better matches",type:"system",action:"openNewEditProfile()",done:!1});localStorage.getItem("tapinx_has_messaged")||tasks.unshift({id:"sys_message",title:"Message Taj",meta:"Tell Taj who you want to meet",type:"system",action:"window.open('https://t.me/TapinXBot', '_blank')",done:!1});const e=parseInt(localStorage.getItem("tapinx_pending_opps")||"0");e>0&&tasks.unshift({id:"sys_opportunities",title:`Review ${e} new ${1===e?"opportunity":"opportunities"}`,meta:"Pending introductions",type:"system",action:"showNewAppPage('opportunities')",done:!1})}function renderTasks(){const e=document.getElementById("tasksList"),t=document.getElementById("tasksEmpty");if(!e)return;const n=tasks.filter(e=>!e.done||e.doneAt&&Date.now()-e.doneAt<5e3);if(0===n.length)return e.innerHTML="",void(t&&(t.style.display="block"));t&&(t.style.display="none");const o=n.filter(e=>"system"===e.type),a=n.filter(e=>"custom"===e.type);let s="";o.length>0&&(s+='<div class="new-tasks-divider">To do</div>',o.forEach(e=>{s+=renderTaskItem(e)})),a.length>0&&(o.length>0&&(s+='<div class="new-tasks-divider">My tasks</div>'),a.forEach(e=>{s+=renderTaskItem(e)})),e.innerHTML=s}function renderTaskItem(e){const t=e.done?"done":"",n=e.done?"‚úì":"";e.type;return`\n                <div class="new-task-item ${t}" onclick="handleTaskClick('${e.id}')" data-id="${e.id}">\n                    <div class="new-task-checkbox">${n}</div>\n                    <div class="new-task-content">\n                        <div class="new-task-title">${e.title}</div>\n                        ${e.meta?`<div class="new-task-meta">${e.meta}</div>`:""}\n                    </div>\n                    <button class="new-task-dismiss" onclick="event.stopPropagation(); dismissTask('${e.id}')" title="Dismiss">\n                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n                            <line x1="18" y1="6" x2="6" y2="18"/>\n                            <line x1="6" y1="6" x2="18" y2="18"/>\n                        </svg>\n                    </button>\n                </div>\n            `}function handleTaskClick(taskId){const task=tasks.find(e=>e.id===taskId);task&&(task.done||(task.action&&eval(task.action),task.done=!0,task.doneAt=Date.now(),saveTasks(),renderTasks(),setTimeout(()=>{renderTasks()},3e3)))}function dismissTask(e){tasks=tasks.filter(t=>t.id!==e),saveTasks(),renderTasks()}function openAddTaskModal(){document.getElementById("addTaskModal").classList.add("show"),document.getElementById("taskModalInput").focus()}function closeAddTaskModal(e){if(e&&e.target!==e.currentTarget)return;document.getElementById("addTaskModal").classList.remove("show"),document.getElementById("taskModalInput").value="",document.getElementById("taskModalNote").value=""}function handleTaskModalKeypress(e){"Enter"===e.key&&addCustomTaskFromModal()}function addCustomTaskFromModal(){const e=document.getElementById("taskModalInput"),t=document.getElementById("taskModalNote"),n=e.value.trim(),o=t.value.trim();n&&(tasks.push({id:"custom_"+Date.now(),title:n,meta:o||null,type:"custom",done:!1,createdAt:Date.now()}),saveTasks(),renderTasks(),closeAddTaskModal(),showNewToast("Task added"))}function saveTasks(){const e=tasks.filter(e=>"custom"===e.type);localStorage.setItem("tapinx_tasks",JSON.stringify(e))}function openNewEditProfile(){openEditProfileModal()}function formatNewDate(e){if(!e)return"";return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function formatNewTimeAgo(e){if(!e)return"";const t=new Date-new Date(e),n=Math.floor(t/6e4),o=Math.floor(t/36e5),a=Math.floor(t/864e5);return n<60?`${n}m ago`:o<24?`${o}h ago`:`${a}d ago`}function setIntent(e,t){document.querySelectorAll(".intent-seg-btn").forEach(e=>e.classList.remove("active")),t.classList.add("active"),localStorage.setItem("tapinx_user_intent",e),showNewToast(`Intent set to ${e.charAt(0).toUpperCase()+e.slice(1)}`)}function loadSavedIntent(){const e=localStorage.getItem("tapinx_user_intent")||"professional",t=document.querySelector(`.intent-seg-btn[data-intent="${e}"]`);t&&(document.querySelectorAll(".intent-seg-btn").forEach(e=>e.classList.remove("active")),t.classList.add("active"))}function showNewToast(e){const t=document.createElement("div");t.className="conn-toast show",t.textContent=e,document.body.appendChild(t),setTimeout(()=>t.remove(),3e3)}function updateNewSidebar(){const e=localStorage.getItem("tapinx_user_name")||"User",t=localStorage.getItem("tapinx_user_photo");document.getElementById("newSidebarName").textContent=e,document.getElementById("newSidebarAvatarInitial").textContent=e.charAt(0).toUpperCase(),t?(document.getElementById("newSidebarAvatarImg").src=t,document.getElementById("newSidebarAvatarImg").style.display="block",document.getElementById("newSidebarAvatarInitial").style.display="none"):(document.getElementById("newSidebarAvatarImg").style.display="none",document.getElementById("newSidebarAvatarInitial").style.display="flex"),"function"==typeof initTasks&&initTasks()}document.getElementById("dashboardPage")&&(updateNewSidebar(),loadSavedIntent(),initTasks())</script>